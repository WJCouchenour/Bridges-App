/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.mobiscroll=t(e.jQuery)}(this,function(e){"use strict";function t(e,t,n){var s=e;return"object"===("undefined"==typeof t?"undefined":v(t))?e.each(function(){new b.classes[t.component||"Scroller"](this,t)}):("string"==typeof t&&e.each(function(){var e,o=b.instances[this.id];if(o&&o[t]&&(e=o[t].apply(this,Array.prototype.slice.call(n,1)),void 0!==e))return s=e,!1}),s)}function n(){}function s(e){var t,n=[];for(t in e)n.push(e[t]);return n}function o(e){return e-parseFloat(e)>=0}function i(e){return"string"==typeof e}function a(e,t,n){return Math.max(t,Math.min(e,n))}function r(e){"vibrate"in navigator&&navigator.vibrate(e||50)}function l(){A++,setTimeout(function(){A--},500)}function c(e,t,n){var s=e.originalEvent||e,o=(n?"page":"client")+t;return s.targetTouches&&s.targetTouches[0]?s.targetTouches[0][o]:s.changedTouches&&s.changedTouches[0]?s.changedTouches[0][o]:e[o]}function d(e,t,n,s,o,i){function a(e){h||(s&&e.preventDefault(),h=this,m=c(e,"X"),f=c(e,"Y"),p=!1,v=new Date)}function r(e){h&&!p&&(Math.abs(c(e,"X")-m)>o||Math.abs(c(e,"Y")-f)>o)&&(p=!0)}function d(t){h&&((i&&new Date-v<100||!p)&&(t.preventDefault(),n.call(h,t,e)),h=!1,l())}function u(){h=!1}var m,f,h,p,v,_=b.$,g=_(t);o=o||9,e.settings.tap&&g.on("touchstart.mbsc",a).on("touchcancel.mbsc",u).on("touchmove.mbsc",r).on("touchend.mbsc",d),g.on("click.mbsc",function(t){t.preventDefault(),n.call(this,t,e)})}function u(e){if(A&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function m(e){var t;for(t in e)if(void 0!==$[e[t]])return!0;return!1}function f(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(m([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function h(e,t){if("touchstart"==e.type)W(t).attr("data-touch","1");else if(W(t).attr("data-touch"))return W(t).removeAttr("data-touch"),!1;return!0}function p(e,t){var n,s,o=getComputedStyle(e[0]);return W.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==o[t+"ransform"])return n=o[t+"ransform"],!1}),n=n.split(")")[0].split(", "),s=t?n[13]||n[5]:n[12]||n[4]}e=e&&e.hasOwnProperty("default")?e.default:e;var b=b||{},v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=e.extend;b.presetShort=function(e,n,s){b.components[e]=function(o){return t(this,_(o,{component:n,preset:s===!1?void 0:e}),arguments)}},b.$=e,e.mobiscroll=b,e.fn.mobiscroll=function(e){return _(this,b.components),t(this,e,arguments)};var g,y,w,x,C=[],k="undefined"!=typeof window,T=k?navigator.userAgent:"",M=T.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),V=k&&window.requestAnimationFrame||function(e){e()},S=k&&window.cancelAnimationFrame||function(){};/Android/i.test(M)?(g="android",y=T.match(/Android\s+([\d\.]+)/i),y&&(C=y[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(M)?(g="ios",y=T.match(/OS\s+([\d\_]+)/i),y&&(C=y[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(M)?g="wp":/Windows|MSIE/i.test(M)&&(g="windows"),w=C[0],x=C[1];var A=0;k&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,u,!0)}),"android"==g&&w<5&&document.addEventListener("change",function(e){A&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var P,W=b.$,I=+new Date,E={},D=W.extend;P=D(b,{$:W,version:"3.2.6",util:{getCoord:c,preventClick:l,vibrate:r},autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:{name:g,majorVersion:w,minorVersion:x},i18n:{},instances:E,classes:{},components:{},settings:{},setDefaults:function(e){D(this.settings,e)},customTheme:function(e,t){var n,s=b.themes,o=["frame","scroller","listview","menustrip","form","progress"];for(n=0;n<o.length;n++)s[o[n]][e]=D({},s[o[n]][t],{baseTheme:t})}}),P.presetShort=P.presetShort||function(){};var L,$,O,Y,X=function(e,t){function s(){W(e).addClass("mbsc-comp"),e.id?E[e.id]&&E[e.id].destroy():e.id="mobiscroll"+ ++I,E[e.id]=m,m.__ready=!0}var o,i,a,r,l,c,u,m=this;m.settings={},m._init=n,m._destroy=n,m._processSettings=n,m.init=function(n){var s;for(s in m.settings)delete m.settings[s];a=m.settings,D(t,n),m._hasDef&&(u=P.settings),D(a,m._defaults,u,t),m._hasTheme&&(l=a.theme,"auto"!=l&&l||(l=P.autoTheme),"default"==l&&(l="mobiscroll"),t.theme=l,r=P.themes[m._class]?P.themes[m._class][l]:{}),m._hasLang&&(o=P.i18n[a.lang]),m._hasTheme&&c("onThemeLoad",{lang:o,settings:t}),D(a,r,o,u,t),m._processSettings(),m._hasPreset&&(i=P.presets[m._class][a.preset],i&&(i=i.call(e,m),D(a,i,t))),m._init(n),c("onInit")},m.destroy=function(){m&&(m._destroy(),c("onDestroy"),delete E[e.id],m=null)},m.tap=function(e,t,n,s,o){d(m,e,t,n,s,o)},m.trigger=function(n,s){var o,a,l,c=[u,r,i,t];for(a=0;a<4;a++)l=c[a],l&&l[n]&&(o=l[n].call(e,s||{},m));return o},m.option=function(e,t){var n={};"object"===("undefined"==typeof e?"undefined":v(e))?n=e:n[e]=t,m.init(n)},m.getInst=function(){return m},t=t||{},c=m.trigger,m.__ready||s()};k&&($=document.createElement("modernizr").style,O=f(),Y=O.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),L=void 0!==$.animation?"animationend":"webkitAnimationEnd");var q,j,z=b.classes,F=b.themes,H=/(iphone|ipod)/i.test(T)&&w>=7,B="android"==g,R="ios"==g,G=R&&8==w,U=R&&w>7,N=function(e){e.preventDefault()},Z=function(e,t,s){function o(e){I&&I.removeClass("mbsc-fr-btn-a"),I=W(this),I.hasClass("mbsc-fr-btn-d")||I.hasClass("mbsc-fr-btn-nhl")||I.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?W(document).on("mouseup",r):"pointerdown"===e.type&&W(document).on("pointerup",r)}function r(e){I&&(I.removeClass("mbsc-fr-btn-a"),I=null),"mouseup"===e.type?W(document).off("mouseup",r):"pointerup"===e.type&&W(document).off("pointerup",r)}function d(e){13==e.keyCode?ce.select():27==e.keyCode&&ce.cancel()}function u(e){e||B||K.focus(),ce.ariaMessage(te.ariaMessage)}function m(e){var t=q,n=te.focusOnClose;ce._markupRemove(),k.remove(),O&&(E.mbscModals--,te.scrollLock&&E.mbscLock--,E.mbscLock||C.removeClass("mbsc-fr-lock"),E.mbscModals||(C.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),Z&&(w.css({top:"",left:""}),S.scrollLeft(ne),S.scrollTop(oe)),e||(t||(t=de),setTimeout(function(){void 0===n||n===!0?(j=!0,t[0].focus()):n&&W(n)[0].focus()},200)))),ce._isVisible=!1,Y=!1,ae("onHide")}function f(e){clearTimeout(me[e.type]),me[e.type]=setTimeout(function(){var t,n="scroll"==e.type;n&&!se||(ce.position(!n),"orientationchange"==e.type&&(Q.style.display="none",t=Q.offsetHeight,Q.style.display=""))},200)}function h(e){e.target.nodeType&&!K.contains(e.target)&&K.focus()}function p(e,t){e&&e(),ce.show()!==!1&&(q=t)}function v(){ce._fillValue(),ae("onSet",{valueText:ce._value})}function _(){ae("onCancel",{valueText:ce._value})}function g(){ce.setVal(null,!0)}var y,w,x,C,k,T,M,V,S,A,P,I,E,D,$,O,Y,z,F,R,G,Z,K,Q,J,ee,te,ne,se,oe,ie,ae,re,le,ce=this,de=W(e),ue=[],me={};X.call(this,e,t,!0),ce.position=function(e){var t,n,s,o,i,r,l,c,d,u,m,f,h,p,v,_,g={},y=0,x=0,C=0,T=0;!ee&&Y&&(ce._position(k),f=z.offsetHeight,h=z.offsetWidth,re===h&&le===f&&e||(ce._isFullScreen||/top|bottom/.test(te.display)?V.width(h):A.width(""),ae("onPosition",{target:z,windowWidth:h,windowHeight:f})!==!1&&O&&(W(".mbsc-comp",k).each(function(){var e=b.instances[this.id];e&&e!==ce&&e.position&&e.position()}),!ce._isFullScreen&&/center|bubble/.test(te.display)&&(W(".mbsc-w-p",k).each(function(){p=this.getBoundingClientRect().width,T+=p,C=p>C?p:C}),A.css({width:ce._isLiquid?Math.min(te.maxPopupWidth,h-16):Math.ceil(T>h?C:T),"white-space":T>h?"":"nowrap"})),F=Q.offsetWidth,R=Q.offsetHeight,se=R<=f&&F<=h,G&&(y=S.scrollLeft(),x=S.scrollTop()),"center"==te.display?(_=Math.max(0,y+(h-F)/2),v=Math.max(0,x+(f-R)/2)):"bubble"==te.display?(t=void 0===te.anchor?de:W(te.anchor),l=W(".mbsc-fr-arr-i",k)[0],o=t.offset(),i=o.top+($?x-w.offset().top:0),r=o.left+($?y-w.offset().left:0),n=t[0].offsetWidth,s=t[0].offsetHeight,c=l.offsetWidth,d=l.offsetHeight,_=a(r-(F-n)/2,y+8,y+h-F-8),v=i-R-d/2,v<x||i>x+f?(V.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),v=i+s+d/2):V.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),W(".mbsc-fr-arr",k).css({left:a(r+n/2-(_+(F-c)/2),0,c)}),se=v>x&&_>y&&v+R<=x+f&&_+F<=y+h):(_=y,v="top"==te.display?x:Math.max(0,x+f-R)),G&&(u=Math.max(v+R,$?E.scrollHeight:W(document).height()),m=Math.max(_+F,$?E.scrollWidth:W(document).width()),M.css({width:m,height:u}),te.scroll&&"bubble"==te.display&&(v+R+8>x+f||i>x+f||i+s<x)&&(ee=!0,setTimeout(function(){ee=!1},300),S.scrollTop(Math.min(i,v+R-f+8,u-f)))),g.top=Math.floor(v),g.left=Math.floor(_),V.css(g),re=h,le=f)))},ce.attachShow=function(e,t){var n,s=W(e),o=s.prop("readonly");if("inline"!==te.display){if((te.showOnFocus||te.showOnTap)&&s.is("input,select")&&(s.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){ce._isVisible&&this.blur()}),n=W('label[for="'+s.attr("id")+'"]'),n.length||(n=s.closest("label"))),s.is("select"))return;te.showOnFocus&&s.on("focus.mbsc",function(){j?j=!1:p(t,s)}),te.showOnTap&&(s.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),p(t,s))}),ce.tap(s,function(){p(t,s)}),n&&n.length&&ce.tap(n,function(){p(t,s)})),ue.push({readOnly:o,el:s,lbl:n})}},ce.select=function(){O?ce.hide(!1,"set",!1,v):v()},ce.cancel=function(){O?ce.hide(!1,"cancel",!1,_):_()},ce.clear=function(){ce._clearValue(),ae("onClear"),O&&ce._isVisible&&!ce.live?ce.hide(!1,"clear",!1,g):g()},ce.enable=function(){te.disabled=!1,ce._isInput&&de.prop("disabled",!1)},ce.disable=function(){te.disabled=!0,ce._isInput&&de.prop("disabled",!0)},ce.show=function(e,t){function n(){k.off(L,n).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+D).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+D),u(t)}var s,a;if(!te.disabled&&!ce._isVisible){if(ce._readValue(),ae("onBeforeShow")===!1)return!1;if(q=null,D=te.animate,P=te.buttons||[],G=$||"bubble"==te.display,Z=H&&!G&&te.scrollLock,s=P.length>0,ie=!1,D!==!1&&("top"==te.display?D=D||"slidedown":"bottom"==te.display?D=D||"slideup":"center"!=te.display&&"bubble"!=te.display||(D=D||"pop")),O&&(oe=Math.max(0,S.scrollTop()),ne=Math.max(0,S.scrollLeft()),re=0,le=0,Z&&!C.hasClass("mbsc-fr-lock-ios")&&w.css({top:-oe+"px",left:-ne+"px"}),C.addClass((te.scrollLock?"mbsc-fr-lock":"")+(Z?" mbsc-fr-lock-ios":"")+($?" mbsc-fr-lock-ctx":"")),W(document.activeElement).is("input,textarea")&&document.activeElement.blur(),b.activeInstance&&b.activeInstance.hide(),b.activeInstance=ce,E.mbscModals=E.mbscModals||0,E.mbscLock=E.mbscLock||0,E.mbscModals++,te.scrollLock&&E.mbscLock++),a='<div lang="'+te.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+te.theme+(te.baseTheme?" mbsc-"+te.baseTheme:"")+" mbsc-fr-"+te.display+" "+(te.cssClass||"")+" "+(te.compClass||"")+(ce._isLiquid?" mbsc-fr-liq":"")+(U?" mbsc-fr-hb":"")+(Z?" mbsc-platform-ios":"")+(s?P.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(O?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(te.rtl?" mbsc-rtl":" mbsc-ltr")+(te.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===te.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(te.headerText?'<div class="mbsc-fr-hdr">'+(i(te.headerText)?te.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',a+=ce._generateContent(),a+="</div>",s&&(a+='<div class="mbsc-fr-btn-cont">',W.each(P,function(e,t){t=i(t)?ce.buttons[t]:t,"set"===t.handler&&(t.parentClass="mbsc-fr-btn-s"),"cancel"===t.handler&&(t.parentClass="mbsc-fr-btn-c"),a+="<div"+(te.btnWidth?' style="width:'+100/P.length+'%"':"")+' class="mbsc-fr-btn-w '+(t.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+e+" mbsc-fr-btn-e "+(void 0===t.cssClass?te.btnClass:t.cssClass)+(t.icon?" mbsc-ic mbsc-ic-"+t.icon:"")+'">'+(t.text||"")+"</div></div>"}),a+="</div>"),a+="</div></div></div></div>"+(O?"</div></div>":""),k=W(a),M=W(".mbsc-fr-persp",k),T=W(".mbsc-fr-scroll",k),A=W(".mbsc-fr-w",k),x=W(".mbsc-fr-hdr",k),V=W(".mbsc-fr-popup",k),y=W(".mbsc-fr-aria",k),z=k[0],K=T[0],Q=V[0],ce._markup=k,ce._header=x,ce._isVisible=!0,J="orientationchange resize",ce._markupReady(k),ae("onMarkupReady",{target:z}),O){if(W(window).on("keydown",d),te.scrollLock&&k.on("touchmove mousewheel wheel",function(e){se&&e.preventDefault()}),te.focusTrap&&S.on("focusin",h),te.closeOnOverlayTap){var m,p,v,_;T.on("touchstart mousedown",function(e){p||e.target!=T[0]||(p=!0,m=!1,v=c(e,"X"),_=c(e,"Y"))}).on("touchmove mousemove",function(e){p&&!m&&(Math.abs(c(e,"X")-v)>9||Math.abs(c(e,"Y")-_)>9)&&(m=!0)}).on("touchcancel",function(){p=!1}).on("touchend touchcancel mouseup",function(e){p&&!m&&(ce.cancel(),"mouseup"!=e.type&&l()),p=!1})}G&&(J+=" scroll")}setTimeout(function(){if(O)k.appendTo(w);else if(de.is("div")&&!ce._hasContent)de.empty().append(k);else if(de.hasClass("mbsc-control")){var s=de.closest(".mbsc-control-w");k.insertAfter(s),s.hasClass("mbsc-select")&&s.addClass("mbsc-select-inline")}else k.insertAfter(de);Y=!0,ce._markupInserted(k),ae("onMarkupInserted",{target:z}),k.on("selectstart mousedown",N).on("click",".mbsc-fr-btn-e",N).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&O&&te.focusTrap){var t=k.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),n=t.index(W(":focus",k)),s=t.length-1,o=0;e.shiftKey&&(s=0,o=-1),n===s&&(t.eq(o)[0].focus(),e.preventDefault())}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",o).on("touchend",".mbsc-fr-btn-e",r),W("input,select,textarea",k).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),z.addEventListener("touchstart",function(){ie||(ie=!0,w.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),W.each(P,function(e,t){ce.tap(W(".mbsc-fr-btn"+e,k),function(e){t=i(t)?ce.buttons[t]:t,(i(t.handler)?ce.handlers[t.handler]:t.handler).call(this,e,ce)},!0)}),ce._attachEvents(k),ce.position(),S.on(J,f),O&&(D&&!e?k.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+D).on(L,n).find(".mbsc-fr-popup").addClass("mbsc-anim-"+D):u(t)),ae("onShow",{target:z,valueText:ce._tempValue})},Z?100:0)}},ce.hide=function(e,t,n,s){function o(){k.off(L,o),m(e)}return!(!ce._isVisible||!n&&!ce._isValid&&"set"==t||!n&&ae("onBeforeClose",{valueText:ce._tempValue,button:t})===!1)&&(O&&(W(document.activeElement).is("input,textarea")&&Q.contains(document.activeElement)&&document.activeElement.blur(),W(window).off("keydown",d),delete b.activeInstance),k&&(O&&D&&!e?k.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+D).on(L,o).find(".mbsc-fr-popup").addClass("mbsc-anim-"+D):m(e),ce._detachEvents(k),S.off(J,f).off("focusin",h)),s&&s(),de.trigger("blur"),void ae("onClose",{valueText:ce._value}))},ce.ariaMessage=function(e){y.html(""),setTimeout(function(){y.html(e)},100)},ce.isVisible=function(){return ce._isVisible},ce.setVal=n,ce.getVal=n,ce._generateContent=n,ce._attachEvents=n,ce._detachEvents=n,ce._readValue=n,ce._clearValue=n,ce._fillValue=n,ce._markupReady=n,ce._markupInserted=n,ce._markupRemove=n,ce._position=n,ce.__processSettings=n,ce.__init=n,ce.__destroy=n,ce._destroy=function(){ce.hide(!0,!1,!0),de.off(".mbsc"),W.each(ue,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),ce.__destroy()},ce._processSettings=function(){var e,t;for(ce.__processSettings(),te.buttons=te.buttons||("inline"!==te.display?["set","cancel"]:[]),te.headerText=void 0===te.headerText?"inline"!==te.display&&"{value}":te.headerText,P=te.buttons||[],O="inline"!==te.display,$="body"!=te.context,w=W(te.context),C=$?w:W("body,html"),E=w[0],ce._window=S=W($?te.context:window),ce.live=!0,t=0;t<P.length;t++)e=P[t],"ok"!=e&&"set"!=e&&"set"!=e.handler||(ce.live=!1);ce.buttons.set={text:te.setText,icon:te.setIcon,handler:"set"},ce.buttons.cancel={text:te.cancelText,icon:te.cancelIcon,handler:"cancel"},ce.buttons.close={text:te.closeText,icon:te.closeIcon,handler:"cancel"},ce.buttons.clear={text:te.clearText,icon:te.clearIcon,handler:"clear"},ce._isInput=de.is("input")},ce._init=function(){ce._isVisible&&ce.hide(!0,!1,!0),de.off(".mbsc"),ce.__init(),ce._isLiquid="liquid"==te.layout,O?(ce._readValue(),ce._hasContent||ce.attachShow(de)):ce.show(),de.on("change.mbsc",function(){ce._preventChange||ce.setVal(de.val(),!0,!1),ce._preventChange=!1})},ce.buttons={},ce.handlers={set:ce.select,cancel:ce.cancel,clear:ce.clear},ce._value=null,ce._isValid=!0,ce._isVisible=!1,te=ce.settings,ae=ce.trigger,s||ce.init(t)};Z.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:B||R,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!G},z.Frame=Z,F.frame.mobiscroll={headerText:!1,btnWidth:!1},F.scroller.mobiscroll=D({},F.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),k&&W(window).on("focus",function(){q&&(j=!0)});var K=b.classes,Q="ios"==g,J=function(e,t,n){function s(e){se("onStart",{domEvent:e}),ce.stopProp&&e.stopPropagation(),(ce.prevDef||"mousedown"==e.type)&&e.preventDefault(),ce.readonly||ce.lock&&$||h(e,this)&&!L&&(b&&b.removeClass("mbsc-btn-a"),P=!1,$||(b=W(e.target).closest(".mbsc-btn-e",this),b.length&&!b.hasClass("mbsc-btn-d")&&(P=!0,v=setTimeout(function(){b.addClass("mbsc-btn-a")},100))),L=!0,F=!1,q=!1,ae.scrolled=$,Z=c(e,"X"),K=c(e,"Y"),T=Z,g=0,y=0,w=0,N=new Date,U=+p(ee,oe)||0,$&&f(U,Q?0:1),"mousedown"===e.type&&W(document).on("mousemove",r).on("mouseup",d))}function r(e){L&&(ce.stopProp&&e.stopPropagation(),T=c(e,"X"),M=c(e,"Y"),g=T-Z,y=M-K,w=oe?y:g,P&&(Math.abs(y)>ce.thresholdY||Math.abs(g)>ce.thresholdX)&&(clearTimeout(v),b.removeClass("mbsc-btn-a"),P=!1),(ae.scrolled||!q&&Math.abs(w)>ne)&&(F||se("onGestureStart",A),ae.scrolled=F=!0,z||(z=!0,j=V(l))),oe||ce.scrollLock?e.preventDefault():ae.scrolled?e.preventDefault():Math.abs(y)>7&&(q=!0,ae.scrolled=!0,de.trigger("touchend")))}function l(){E&&(w=a(w,-R*E,R*E)),f(a(U+w,D-k,I+k)),z=!1}function d(e){if(L){var t,n=new Date-N;ce.stopProp&&e.stopPropagation(),S(j),z=!1,!q&&ae.scrolled&&(ce.momentum&&n<300&&(t=w/n,w=Math.max(Math.abs(w),t*t/ce.speedUnit)*(w<0?-1:1)),m(w)),P&&(clearTimeout(v),b.addClass("mbsc-btn-a"),setTimeout(function(){b.removeClass("mbsc-btn-a")},100),q||ae.scrolled||se("onBtnTap",{target:b[0]})),"mouseup"==e.type&&W(document).off("mousemove",r).off("mouseup",d),L=!1}}function u(e){if(e=e.originalEvent||e,w=oe?e.deltaY||e.wheelDelta||e.detail:e.deltaX,se("onStart",{domEvent:e}),ce.stopProp&&e.stopPropagation(),w){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(w*=5),w=a(-w,-20,20),U=ie,ce.readonly||U+w<D||U+w>I)return;F||(A={posX:oe?0:ie,posY:oe?ie:0,originX:oe?0:U,originY:oe?U:0,direction:w>0?oe?270:360:oe?90:180},se("onGestureStart",A)),z||(z=!0,j=V(l)),F=!0,clearTimeout(H),H=setTimeout(function(){S(j),z=!1,F=!1,m(w)},200)}}function m(e){var t,n,s;if(E&&(e=a(e,-R*E,R*E)),s=a(Math.round((U+e)/R)*R,D,I),re=Math.round(s/R),G){if(e<0){for(t=G.length-1;t>=0;t--)if(Math.abs(s)+_>=G[t].breakpoint){re=t,le=2,s=G[t].snap2;break}}else if(e>=0)for(t=0;t<G.length;t++)if(Math.abs(s)<=G[t].breakpoint){re=t,le=1,s=G[t].snap1;break}s=a(s,D,I)}n=ce.time||(ie<D||ie>I?1e3:Math.max(1e3,Math.abs(s-ie)*ce.timeUnit)),A.destinationX=oe?0:s,A.destinationY=oe?s:0,A.duration=n,A.transitionTiming=C,se("onGestureEnd",A),f(s,n)}function f(e,t,n,s){var o=e!=ie,i=t>1,a=function(){clearInterval(B),clearTimeout(te),$=!1,ie=e,A.posX=oe?0:e,A.posY=oe?e:0,o&&se("onMove",A),i&&se("onAnimationEnd",A),s&&s()};A={posX:oe?0:ie,posY:oe?ie:0,originX:oe?0:U,originY:oe?U:0,direction:e-ie>0?oe?270:360:oe?90:180},ie=e,i&&(A.destinationX=oe?0:e,A.destinationY=oe?e:0,A.duration=t,A.transitionTiming=C,se("onAnimationStart",A)),J[Y+"Transition"]=t?O+"transform "+Math.round(t)+"ms "+C:"",J[Y+"Transform"]="translate3d("+(oe?"0,"+e+"px,":e+"px,0,")+"0)",!o&&!$||!t||t<=1?a():t&&($=!n,clearInterval(B),B=setInterval(function(){var t=+p(ee,oe)||0;A.posX=oe?0:t,A.posY=oe?t:0,se("onMove",A),Math.abs(t-e)<2&&a()},100),clearTimeout(te),te=setTimeout(function(){a()},t)),ce.sync&&ce.sync(e,t,C)}var b,v,_,g,y,w,x,C,k,T,M,A,P,I,E,D,L,$,q,j,z,F,H,B,R,G,U,N,Z,K,J,ee,te,ne,se,oe,ie,ae=this,re=0,le=1,ce=t,de=W(e);X.call(this,e,t,!0),ae.scrolled=!1,ae.scroll=function(t,n,s,i){t=o(t)?Math.round(t/R)*R:Math.ceil((W(t,e).length?Math.round(ee.offset()[x]-W(t,e).offset()[x]):ie)/R)*R,t=a(t,D,I),re=Math.round(t/R),U=ie,f(t,n,s,i)},ae.refresh=function(e){var t;_=void 0===ce.contSize?oe?de.height():de.width():ce.contSize,D=void 0===ce.minScroll?Math.min(0,oe?_-ee.height():_-ee.width()):ce.minScroll,I=void 0===ce.maxScroll?0:ce.maxScroll,G=null,!oe&&ce.rtl&&(t=I,I=-D,D=-t),i(ce.snap)&&(G=[],ee.find(ce.snap).each(function(){var e=oe?this.offsetTop:this.offsetLeft,t=oe?this.offsetHeight:this.offsetWidth;G.push({breakpoint:e+t/2,snap1:-e,snap2:_-e-t})})),R=o(ce.snap)?ce.snap:1,E=ce.snap?ce.maxSnapScroll:0,C=ce.easing,k=ce.elastic?o(ce.snap)?R:o(ce.elastic)?ce.elastic:0:0,void 0===ie&&(ie=ce.initialPos,re=Math.round(ie/R)),e||ae.scroll(ce.snap?G?G[re]["snap"+le]:re*R:ie)},ae._processSettings=function(){oe="Y"==ce.axis,x=oe?"top":"left",ee=ce.moveElement||de.children().eq(0),J=ee[0].style,ne=oe?ce.thresholdY:ce.thresholdX},ae._init=function(){ae.refresh(),de.on("touchstart mousedown",s).on("touchmove",r).on("touchend touchcancel",d),ce.mousewheel&&de.on("wheel mousewheel",u),e.addEventListener&&e.addEventListener("click",function(e){ae.scrolled&&(ae.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},ae._destroy=function(){clearInterval(B),de.off("touchstart mousedown",s).off("touchmove",r).off("touchend touchcancel",d).off("wheel mousewheel",u)},ce=ae.settings,se=ae.trigger,n||ae.init(t)};J.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},K.ScrollView=J,b.presetShort("scrollview","ScrollView",!1);var ee=k?window.CSS:null,te=ee&&ee.supports&&ee.supports("(transform-style: preserve-3d)"),ne=!te||"wp"==g||"android"==g;b.presetShort("scroller","Scroller",!1);var se=function(e,t,n){function i(e){var t=+W(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),h(e,this)&&!w(t)&&(I=W(this).addClass("mbsc-sc-btn-a"),H=c(e,"X"),B=c(e,"Y"),z=!0,F=!1,setTimeout(function(){_(t,"inc"==I.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&W(document).on("mousemove",a).on("mouseup",r))}function a(e){(Math.abs(H-c(e,"X"))>7||Math.abs(B-c(e,"Y"))>7)&&g(!0)}function r(e){g(),e.preventDefault(),"mouseup"===e.type&&W(document).off("mousemove",a).off("mouseup",r)}function l(e){var t,n,s=W(this).attr("data-index");38==e.keyCode?(t=!0,n=-1):40==e.keyCode?(t=!0,n=1):32==e.keyCode&&(t=!0,u(s,te[s]._$markup.find('.mbsc-sc-itm[data-val="'+R[s]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),n&&!z&&(z=!0,F=!1,_(s,n)))}function d(){g()}function u(e,t){var n=te[e],i=t.attr("data-index"),a=v(n,i),r=ae._tempSelected[e],l=o(n.multiple)?n.multiple:1/0;Q("onItemTap",{target:t[0],index:e,value:a,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(n.multiple&&!n._disabled[a]&&(void 0!==r[a]?(t.removeClass(X).removeAttr("aria-selected"),delete r[a]):(1==l&&(ae._tempSelected[e]=r={},n._$markup.find(".mbsc-sc-itm-sel").removeClass(X).removeAttr("aria-selected")),s(r).length<l&&(t.addClass(X).attr("aria-selected","true"),r[a]=a))),S(n,e,i,ie,!0,!0,n.multiple),!ae.live||n.multiple||K.setOnTap!==!0&&!K.setOnTap[e]||setTimeout(function(){ae.select()},200))}function m(e,t){return(e._array?e._map[t]:e.getIndex(t,ae))||0}function f(e,t){var n=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?W(n).get(t%e._length):n[t]:W.isFunction(n)?n(t,ae):""}function p(e){return W.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function b(e){var t=W.isPlainObject(e)?e.display:e;return void 0===t?"":t}function v(e,t){return p(f(e,t))}function _(e,t){F||y(e,t),z&&(clearInterval(j),j=setInterval(function(){y(e,t)},K.delay))}function g(e){clearInterval(j),F=e,z=!1,I&&I.removeClass("mbsc-sc-btn-a")}function y(e,t){var n=te[e];S(n,e,n._current+t,ie,1==t?1:2)}function w(e){return W.isArray(K.readonly)?K.readonly[e]:K.readonly}function x(e,t,n){var s=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=W.isArray(e.data),e._array&&(e._length=e.data.length,W.each(e.data,function(t,n){e._map[p(n)]=t})),e.circular=void 0===K.circular?void 0===e.circular?e._array&&e._length>K.rows:e.circular:W.isArray(K.circular)?K.circular[t]:K.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=m(e,R[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-oe,e._last=e._index+oe,e._offset=e._first,n?(e._offset-=e._margin/G+(e._index-s),e._margin+=(e._index-s)*G):e._margin=0,e._refresh=function(t){var n=-(e.min-e._offset+(e.multiple&&!$?Math.floor(K.rows/2):0))*G,s=Math.min(n,-(e.max-e._offset-(e.multiple&&!$?Math.floor(K.rows/2):0))*G);D(e._scroller.settings,{minScroll:s,maxScroll:n}),e._scroller.refresh(t)},se[e.key]=e,e}function C(e,t,n,s,o){var i,a,r,l,c,d,u,m,h="",v=ae._tempSelected[t],_=e._disabled||{};for(i=n;i<=s;i++)r=f(e,i),c=b(r),l=p(r),a=r&&void 0!==r.cssClass?r.cssClass:"",d=r&&void 0!==r.label?r.label:"",u=r&&r.invalid,m=void 0!==l&&l==R[t]&&!e.multiple,h+='<div role="option" aria-selected="'+!!v[l]+'" class="mbsc-sc-itm '+(o?"mbsc-sc-itm-3d ":"")+a+" "+(m?"mbsc-sc-itm-sel ":"")+(v[l]?X:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(u?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(_[l]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+i+'" data-val="'+l+'"'+(d?' aria-label="'+d+'"':"")+(m?' aria-selected="true"':"")+' style="height:'+G+"px;line-height:"+G+"px;"+(o?O+"transform:rotateX("+(e._offset-i)*L%360+"deg) translateZ("+G*K.rows/2+"px);":"")+'">'+(ee>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(G/ee)+"px;font-size:"+Math.round(G/ee*.8)+'px;">':"")+c+(ee>1?"</div>":"")+"</div>";return h}function k(t){var n=K.headerText;return n?"function"==typeof n?n.call(e,t):n.replace(/\{value\}/i,t):""}function T(e,t,n){var s=Math.round(-n/G)+e._offset,o=s-e._current,i=e._first,a=e._last,r=i+oe-E+1,l=a-oe+E;o&&(e._first+=o,e._last+=o,e._current=s,o>0?(e._$scroller.append(C(e,t,Math.max(a+1,i+o),a+o)),W(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(o,a-i+1)).remove(),$&&(e._$3d.append(C(e,t,Math.max(l+1,r+o),l+o,!0)),W(".mbsc-sc-itm",e._$3d).slice(0,Math.min(o,l-r+1)).attr("class","mbsc-sc-itm-del"))):o<0&&(e._$scroller.prepend(C(e,t,i+o,Math.min(i-1,a+o))),W(".mbsc-sc-itm",e._$scroller).slice(Math.max(o,i-a-1)).remove(),$&&(e._$3d.prepend(C(e,t,r+o,Math.min(r-1,l+o),!0)),W(".mbsc-sc-itm",e._$3d).slice(Math.max(o,r-l-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=o*G,e._$scroller.css("margin-top",e._margin+"px"))}function M(e,t,n,s){var o,i=te[e],a=s||i._disabled,r=m(i,t),l=t,c=t,d=0,u=0;if(void 0===t&&(t=v(i,r)),a[t]===!0){for(o=0;r-d>=i.min&&a[l]&&o<100;)o++,d++,l=v(i,r-d);for(o=0;r+u<i.max&&a[c]&&o<100;)o++,u++,c=v(i,r+u);t=(u<d&&u&&2!==n||!d||r-d<0||1==n)&&!a[c]?c:l}return t}function V(t,n,s,o,i,a){var r,l,c,d,u=ae._isVisible;N=!0,d=K.validate.call(e,{values:R.slice(0),index:n,direction:s},ae)||{},N=!1,d.valid&&(ae._tempWheelArray=R=d.valid.slice(0)),a||W.each(te,function(e,o){if(u&&o._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),o._disabled={},d.disabled&&d.disabled[e]&&W.each(d.disabled[e],function(e,t){o._disabled[t]=!0,u&&o._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),R[e]=o.multiple?R[e]:M(e,R[e],s),u){if(o.multiple&&void 0!==n||o._$markup.find(".mbsc-sc-itm-sel").removeClass(X).removeAttr("aria-selected"),o.multiple){if(void 0===n)for(var a in ae._tempSelected[e])o._$markup.find('.mbsc-sc-itm[data-val="'+a+'"]').addClass(X).attr("aria-selected","true")}else o._$markup.find('.mbsc-sc-itm[data-val="'+R[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");l=m(o,R[e]),r=l-o._index+o._batch,Math.abs(r)>2*oe+1&&(c=r+(2*oe+1)*(r>0?-1:1),o._offset+=c,o._margin-=c*G,o._refresh()),o._index=l+o._batch,o._scroller.scroll(-(l-o._offset+o._batch)*G,n===e||void 0===n?t:ie,i)}}),Q("onValidated"),ae._tempValue=K.formatValue(R,ae),u&&ae._header.html(k(ae._tempValue)),ae.live&&(ae._hasValue=o||ae._hasValue,A(o,o,0,!0),o&&Q("onSet",{valueText:ae._value})),o&&Q("onChange",{valueText:ae._tempValue})}function S(e,t,n,s,o,i,a){var r=v(e,n);void 0!==r&&(R[t]=r,e._batch=e._array?Math.floor(n/e._length)*e._length:0,setTimeout(function(){V(s,t,o,!0,i,a)},10))}function A(e,t,n,s,o){if(s?ae._tempValue=K.formatValue(ae._tempWheelArray,ae):V(n),!o){ae._wheelArray=[];for(var i=0;i<R.length;i++)ae._wheelArray[i]=te[i]&&te[i].multiple?Object.keys(ae._tempSelected[i])[0]:R[i];ae._value=ae._hasValue?ae._tempValue:null,ae._selected=D(!0,{},ae._tempSelected)}e&&(ae._isInput&&re.val(ae._hasValue?ae._tempValue:""),Q("onFill",{valueText:ae._hasValue?ae._tempValue:"",change:t}),t&&(ae._preventChange=!0,re.trigger("change")))}var P,I,E,L,$,X,q,j,z,F,H,B,R,G,U,N,K,Q,ee,te,se,oe=40,ie=1e3,ae=this,re=W(e);Z.call(this,e,t,!0),ae.setVal=ae._setVal=function(t,n,s,o,i){ae._hasValue=null!==t&&void 0!==t,ae._tempWheelArray=R=W.isArray(t)?t.slice(0):K.parseValue.call(e,t,ae)||[],A(n,void 0===s?n:s,i,!1,o)},ae.getVal=ae._getVal=function(e){var t=ae._hasValue||e?ae[e?"_tempValue":"_value"]:null;return o(t)?+t:t},ae.setArrayVal=ae.setVal,ae.getArrayVal=function(e){return e?ae._tempWheelArray:ae._wheelArray},ae.changeWheel=function(e,t,n){var s,o;W.each(e,function(e,t){o=se[e],o&&(s=o._nr,D(o,t),x(o,s,!0),ae._isVisible&&($&&o._$3d.html(C(o,s,o._first+oe-E+1,o._last-oe+E,!0)),o._$scroller.html(C(o,s,o._first,o._last)).css("margin-top",o._margin+"px"),o._refresh(N)))}),!ae._isVisible||ae._isLiquid||N||ae.position(),N||V(t,void 0,void 0,n)},ae.getValidValue=M,ae._generateContent=function(){var e,t=0,n="",s=$?O+"transform: translateZ("+(G*K.rows/2+3)+"px);":"",o='<div class="mbsc-sc-whl-l" style="'+s+"height:"+G+"px;margin-top:-"+(G/2+(K.selectedLineBorder||0))+'px;"></div>',i=0;return W.each(K.wheels,function(a,r){n+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+($?" mbsc-sc-whl-gr-3d-c":"")+(K.showLabel?" mbsc-sc-lbl-v":"")+'">'+o+'<div class="mbsc-sc-whl-gr'+($?" mbsc-sc-whl-gr-3d":"")+(q?" mbsc-sc-cp":"")+(K.width||K.maxWidth?'"':'" style="max-width:'+K.maxPopupWidth+'px;"')+">",W.each(r,function(a,r){ae._tempSelected[i]=D({},ae._selected[i]),te[i]=x(r,i),t+=K.maxWidth?K.maxWidth[i]||K.maxWidth:K.width?K.width[i]||K.width:0,e=void 0!==r.label?r.label:a,n+='<div class="mbsc-sc-whl-w '+(r.cssClass||"")+(r.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(K.width?"width:"+(K.width[i]||K.width)+"px;":(K.minWidth?"min-width:"+(K.minWidth[i]||K.minWidth)+"px;":"")+(K.maxWidth?"max-width:"+(K.maxWidth[i]||K.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+s+'"></div>'+o+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(r.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+K.rows*G*($?1.1:1)+'px;">'+(q?'<div data-index="'+i+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(K.btnPlusClass||"")+'" style="height:'+G+"px;line-height:"+G+'px;"></div><div data-index="'+i+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(K.btnMinusClass||"")+'" style="height:'+G+"px;line-height:"+G+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+U+"px;margin-top:-"+(U/2+1)+"px;"+s+'"><div class="mbsc-sc-whl-sc" style="top:'+(U-G)/2+'px;">',
n+=C(r,i,r._first,r._last)+"</div></div>",$&&(n+='<div class="mbsc-sc-whl-3d" style="height:'+G+"px;margin-top:-"+G/2+'px;">',n+=C(r,i,r._first+oe-E+1,r._last-oe+E,!0),n+="</div>"),n+="</div></div>",i++}),n+="</div></div>"}),t&&(K.maxPopupWidth=t),n},ae._attachEvents=function(e){W(".mbsc-sc-btn",e).on("touchstart mousedown",i).on("touchmove",a).on("touchend touchcancel",r),W(".mbsc-sc-whl",e).on("keydown",l).on("keyup",d)},ae._detachEvents=function(){for(var e=0;e<te.length;e++)te[e]._scroller.destroy()},ae._markupReady=function(e){P=e,W(".mbsc-sc-whl-w",P).each(function(e){var t,n=W(this),s=te[e],o=-(s.min-s._offset+(s.multiple&&!$?Math.floor(K.rows/2):0))*G,i=Math.min(o,-(s.max-s._offset-(s.multiple&&!$?Math.floor(K.rows/2):0))*G);s._$markup=n,s._$scroller=W(".mbsc-sc-whl-sc",this),s._$3d=W(".mbsc-sc-whl-3d",this),s._scroller=new J(this,{mousewheel:K.mousewheel,moveElement:s._$scroller,initialPos:(s._first-s._index)*G,contSize:0,snap:G,minScroll:i,maxScroll:o,maxSnapScroll:oe,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,n){$&&(s._$3d[0].style[Y+"Transition"]=t?O+"transform "+Math.round(t)+"ms "+n:"",s._$3d[0].style[Y+"Transform"]="rotateX("+-e/G*L+"deg)")},onStart:function(t,n){n.settings.readonly=w(e)},onGestureStart:function(){n.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),Q("onWheelGestureStart",{index:e})},onGestureEnd:function(n){var o=90==n.direction?1:2,i=n.duration,a=n.destinationY;t=Math.round(-a/G)+s._offset,S(s,e,t,i,o)},onAnimationStart:function(){n.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){n.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),Q("onWheelAnimationEnd",{index:e}),s._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){T(s,e,t.posY)},onBtnTap:function(t){u(e,W(t.target))}})}),V()},ae._fillValue=function(){ae._hasValue=!0,A(!0,!0,0,!0)},ae._clearValue=function(){W(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",P).removeClass(X).removeAttr("aria-selected")},ae._readValue=function(){var t=re.val()||"",n=0;""!==t&&(ae._hasValue=!0),ae._tempWheelArray=R=ae._hasValue&&ae._wheelArray?ae._wheelArray.slice(0):K.parseValue.call(e,t,ae)||[],ae._tempSelected=D(!0,{},ae._selected),W.each(K.wheels,function(e,t){W.each(t,function(e,t){te[n]=x(t,n),n++})}),A(!1,!1,0,!0),Q("onRead")},ae.__processSettings=function(){K=ae.settings,Q=ae.trigger,ee=K.multiline,X="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+K.checkIcon,te=[],se={}},ae.__init=function(){q=K.showScrollArrows,$=K.scroll3d&&!ne&&!q,G=K.height,U=$?2*Math.round((G-.03*(G*K.rows/2+3))/2):G,E=Math.round(1.8*K.rows),L=360/(2*E),q&&(K.rows=Math.max(3,K.rows)),K.cssClass=(K.cssClass||"")+" mbsc-sc"},ae._getItemValue=p,ae._tempSelected={},ae._selected={},n||ae.init(t)};se.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:D({},Z.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var n,s,o=[],i=[],a=0;return null!==e&&void 0!==e&&(o=(e+"").split(" ")),W.each(t.settings.wheels,function(e,r){W.each(r,function(e,r){s=r.data,n=t._getItemValue(s[0]),W.each(s,function(e,s){if(o[a]==t._getItemValue(s))return n=t._getItemValue(s),!1}),i.push(n),a++})}),i}})},b.classes.Scroller=se;var oe={invalid:[],showInput:!0,inputClass:""};b.presets.scroller.list=function(e){function t(e,t,s){for(var o=0,i=[];o<e;)i[o]=n(s,o,t),o++;return i}function n(e,t,n){for(var s,o=0,i=n,a=[];o<t;){var r=e[o];for(s in i)if(i[s].key==r){i=i[s].children;break}o++}for(o=0;o<i.length;)i[o].invalid&&a.push(i[o].key),o++;return a}function s(e,t){for(var n=[];e;)n[--e]=!0;return n[t]=!1,n}function o(e){var t,n=[];for(t=0;t<e;t++)n[t]=v.labels&&v.labels[t]?v.labels[t]:t;return n}function i(e,t,n){var s,o,i,l=0,c=[[]],d=M;if(t)for(s=0;s<t;s++)g?c[0][s]={}:c[s]=[{}];for(;l<e.length;){for(g?c[0][l]=r(d,V[l]):c[l]=[r(d,V[l])],s=0,i=void 0;s<d.length&&void 0===i;)d[s].key==e[l]&&(void 0!==n&&l<=n||void 0===n)&&(i=s),s++;if(void 0!==i&&d[i].children)l++,d=d[i].children;else{if(!(o=a(d))||!o.children)return c;l++,d=o.children}}return c}function a(e,t){if(!e)return!1;for(var n,s=0;s<e.length;)if(!(n=e[s++]).invalid)return t?s-1:n;return!1}function r(e,t){for(var n={data:[],label:t},s=0;s<e.length;)n.data.push({value:e[s].key,display:e[s].value}),s++;return n}function l(t){e._isVisible&&W(".mbsc-sc-whl-w",e._markup).css("display","").slice(t).hide()}function c(e){for(var t,n=[],s=e,o=!0,i=0;o;)t=a(s),n[i++]=t.key,o=t.children,o&&(s=o);return n}function d(e,t){var n,s,o,i=[],r=M,l=0,c=!1;if(void 0!==e[l]&&l<=t)for(n=0,s=e[l],o=void 0;n<r.length&&void 0===o;)r[n].key!=e[l]||r[n].invalid||(o=n),n++;else o=a(r,!0),s=r[o].key;for(c=void 0!==o&&r[o].children,i[l]=s;c;){if(r=r[o].children,l++,c=!1,o=void 0,void 0!==e[l]&&l<=t)for(n=0,s=e[l],o=void 0;n<r.length&&void 0===o;)r[n].key!=e[l]||r[n].invalid||(o=n),n++;else o=a(r,!0),o=o===!1?void 0:o,s=r[o].key;c=!(void 0===o||!a(r[o].children))&&r[o].children,i[l]=s}return{lvl:l+1,nVector:i}}function u(t){var n=[];return C=C>k++?C:k,t.children("li").each(function(t){var s=W(this),o=s.clone();o.children("ul,ol").remove();var i=e._processMarkup?e._processMarkup(o):o.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),a=!!s.attr("data-invalid"),r={key:void 0===s.attr("data-val")||null===s.attr("data-val")?t:s.attr("data-val"),value:i,invalid:a,children:null},l=s.children("ul,ol");l.length&&(r.children=u(l)),n.push(r)}),k--,n}function m(t,n,s){var o,a=(n||0)+1,r=[],c={},d={};for(c=i(t,null,n),o=0;o<t.length;o++)e._tempWheelArray[o]=t[o]=s.nVector[o]||0;for(;a<s.lvl;)d[a]=g?c[0][a]:c[a][0],r.push(a++);l(s.lvl),T=t.slice(0),r.length&&(h=!0,e.changeWheel(d))}var f,h,p,b=D({},e.settings),v=D(e.settings,oe,b),_=v.layout||(/top|bottom/.test(v.display)?"liquid":""),g="liquid"==_,y=v.readonly,w=W(this),x=this.id+"_dummy",C=0,k=0,T=[],M=v.wheelArray||u(w),V=o(C),S=c(M),A=i(S,C);return W("#"+x).remove(),v.input?f=W(v.input):v.showInput&&(f=W('<input type="text" id="'+x+'" value="" class="'+v.inputClass+'" placeholder="'+(v.placeholder||"")+'" readonly />').insertBefore(w)),f&&e.attachShow(f),v.wheelArray||w.hide(),{wheels:A,anchor:f,layout:_,headerText:!1,setOnTap:1==C,formatValue:function(e){return void 0===p&&(p=d(e,e.length).lvl),e.slice(0,p).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(v.defaultValue||S).slice(0)},onBeforeShow:function(){var t=e.getArrayVal(!0);T=t.slice(0),v.wheels=i(t,C,C),h=!0},onWheelGestureStart:function(e){v.readonly=s(C,e.index)},onWheelAnimationEnd:function(t){var n=t.index,s=e.getArrayVal(!0),o=d(s,n);p=o.lvl,v.readonly=y,s[n]!=T[n]&&m(s,n,o)},onFill:function(e){p=void 0,f&&f.val(e.valueText)},validate:function(e){var n=e.values,s=e.index,o=d(n,n.length);return p=o.lvl,void 0===s&&(l(o.lvl),h||m(n,s,o)),h=!1,{disabled:t(p,M,n)}},onDestroy:function(){f&&W("#"+x).remove(),w.show()}}},b.presets.scroller.treelist=b.presets.scroller.list,b.presetShort("list"),b.presetShort("treelist"),b.customTheme("mobiscroll-dark","mobiscroll");var ie=b.themes,ae=void 0;return"android"==g?ae=w>=5?"material":"android-holo":"ios"==g?ae="ios":"wp"==g&&(ae="wp"),b.setAutoTheme=function(){W.each(ie.frame,function(e,t){return ae&&t.baseTheme==ae&&"android-holo-light"!=e&&"material-dark"!=e&&"wp-light"!=e&&"ios-dark"!=e?(b.autoTheme=e,!1):void(e==ae&&(b.autoTheme=e))})},b.setAutoTheme(),b.uid="c48a0b7c",b});
