!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.mobiscroll=t(e.jQuery)}(this,function(e){"use strict";function t(e,t,s){var n=e;return"object"===("undefined"==typeof t?"undefined":m(t))?e.each(function(){new u.classes[t.component||"Scroller"](this,t)}):("string"==typeof t&&e.each(function(){var e,a=u.instances[this.id];if(a&&a[t]&&(e=a[t].apply(this,Array.prototype.slice.call(s,1)),void 0!==e))return n=e,!1}),n)}function s(){k++,setTimeout(function(){k--},500)}function n(e,t,s){var n=e.originalEvent||e,a=(s?"page":"client")+t;return n.targetTouches&&n.targetTouches[0]?n.targetTouches[0][a]:n.changedTouches&&n.changedTouches[0]?n.changedTouches[0][a]:e[a]}function a(e,t,a,i,o,r){function l(e){h||(i&&e.preventDefault(),h=this,b=n(e,"X"),f=n(e,"Y"),p=!1,v=new Date)}function c(e){h&&!p&&(Math.abs(n(e,"X")-b)>o||Math.abs(n(e,"Y")-f)>o)&&(p=!0)}function d(t){h&&((r&&new Date-v<100||!p)&&(t.preventDefault(),a.call(h,t,e)),h=!1,s())}function m(){h=!1}var b,f,h,p,v,g=u.$,w=g(t);o=o||9,e.settings.tap&&w.on("touchstart.mbsc",l).on("touchcancel.mbsc",m).on("touchmove.mbsc",c).on("touchend.mbsc",d),w.on("click.mbsc",function(t){t.preventDefault(),a.call(this,t,e)})}function i(e){if(k&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function o(e){var t;for(t in e)if(void 0!==M[e[t]])return!0;return!1}function r(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(o([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function l(e,t){var s=Ie(t,"X",!0),n=Ie(t,"Y",!0),a=e.offset(),i=s-a.left,o=n-a.top,r=Math.max(i,e[0].offsetWidth-i),l=Math.max(o,e[0].offsetHeight-o),d=2*Math.sqrt(Math.pow(r,2)+Math.pow(l,2));c(Te),Te=P('<span class="mbsc-ripple"></span>').css({width:d,height:d,top:n-a.top-d/2,left:s-a.left-d/2}).appendTo(e),setTimeout(function(){Te.addClass("mbsc-ripple-scaled mbsc-ripple-visible")},10)}function c(e){setTimeout(function(){e&&(e.removeClass("mbsc-ripple-visible"),setTimeout(function(){e.remove()},2e3))},100)}function d(e,t,s,n){var a,i;e.off(".mbsc-ripple").on("touchstart.mbsc-ripple mousedown.mbsc-ripple",t,function(e){Ve(e,this)&&(a=Ie(e,"X"),i=Ie(e,"Y"),ke=P(this),ke.hasClass(s)||ke.hasClass(n)?ke=null:l(ke,e))}).on("touchmove.mbsc-ripple mousemove.mbsc-ripple",t,function(e){(ke&&Math.abs(Ie(e,"X")-a)>9||Math.abs(Ie(e,"Y")-i)>9)&&(c(Te),ke=null)}).on("touchend.mbsc-ripple touchcancel.mbsc-ripple mouseleave.mbsc-ripple mouseup.mbsc-ripple",t,function(){ke&&(setTimeout(function(){c(Te)},100),ke=null)})}e="default"in e?e.default:e;var u=u||{},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=e.extend;u.presetShort=function(e,s,n){u.components[e]=function(a){return t(this,b(a,{component:s,preset:n===!1?void 0:e}),arguments)}},u.$=e,e.mobiscroll=u,e.fn.mobiscroll=function(e){return b(this,u.components),t(this,e,arguments)};var f,h,p,v,g=[],w="undefined"!=typeof window,_=w?navigator.userAgent:"",y=_.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),C=w&&window.requestAnimationFrame||function(e){e()},x=w&&window.cancelAnimationFrame||function(){};/Android/i.test(y)?(f="android",h=_.match(/Android\s+([\d\.]+)/i),h&&(g=h[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(y)?(f="ios",h=_.match(/OS\s+([\d\_]+)/i),h&&(g=h[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(y)?f="wp":/Windows|MSIE/i.test(y)&&(f="windows"),p=g[0],v=g[1];var k=0;w&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,i,!0)}),"android"==f&&p<5&&document.addEventListener("change",function(e){k&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var T,M,S,V,I,A=function(){},P=u.$,L=+new Date,W={},D=P.extend;w&&(M=document.createElement("modernizr").style,I=r(),V=I.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),T=void 0!==M.animation?"animationend":"webkitAnimationEnd"),S=D(u,{$:P,version:"3.2.4",util:{prefix:I,jsPrefix:V,animEnd:T,preventClick:s,testTouch:function(e,t){if("touchstart"==e.type)P(t).attr("data-touch","1");else if(P(t).attr("data-touch"))return P(t).removeAttr("data-touch"),!1;return!0},objectToArray:function(e){var t,s=[];for(t in e)s.push(e[t]);return s},arrayToObject:function(e){var t,s={};if(e)for(t=0;t<e.length;t++)s[e[t]]=e[t];return s},isNumeric:function(e){return e-parseFloat(e)>=0},isString:function(e){return"string"==typeof e},getCoord:n,getPosition:function(e,t){var s,n,a=getComputedStyle(e[0]);return P.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==a[t+"ransform"])return s=a[t+"ransform"],!1}),s=s.split(")")[0].split(", "),n=t?s[13]||s[5]:s[12]||s[4]},constrain:function(e,t,s){return Math.max(t,Math.min(e,s))},vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)},throttle:function(e,t){var s,n;return t=t||100,function(){var a=this,i=+new Date,o=arguments;s&&i<s+t?(clearTimeout(n),n=setTimeout(function(){s=i,e.apply(a,o)},t)):(s=i,e.apply(a,o))}}},autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:{name:f,majorVersion:p,minorVersion:v},i18n:{},instances:W,classes:{},components:{},settings:{},setDefaults:function(e){D(this.settings,e)},customTheme:function(e,t){var s,n=u.themes,a=["frame","scroller","listview","menustrip","form","progress"];for(s=0;s<a.length;s++)n[a[s]][e]=D({},n[a[s]][t],{baseTheme:t})}}),S.presetShort=S.presetShort||function(){},S.classes.Base=function(e,t){function s(){P(e).addClass("mbsc-comp"),e.id?W[e.id]&&W[e.id].destroy():e.id="mobiscroll"+ ++L,W[e.id]=u,u.__ready=!0}var n,i,o,r,l,c,d,u=this;u.settings={},u._init=A,u._destroy=A,u._processSettings=A,u.init=function(s){var a;for(a in u.settings)delete u.settings[a];o=u.settings,D(t,s),u._hasDef&&(d=S.settings),D(o,u._defaults,d,t),u._hasTheme&&(l=o.theme,"auto"!=l&&l||(l=S.autoTheme),"default"==l&&(l="mobiscroll"),t.theme=l,r=S.themes[u._class]?S.themes[u._class][l]:{}),u._hasLang&&(n=S.i18n[o.lang]),u._hasTheme&&c("onThemeLoad",{lang:n,settings:t}),D(o,r,n,d,t),u._processSettings(),u._hasPreset&&(i=S.presets[u._class][o.preset],i&&(i=i.call(e,u),D(o,i,t))),u._init(s),c("onInit")},u.destroy=function(){u&&(u._destroy(),c("onDestroy"),delete W[e.id],u=null)},u.tap=function(e,t,s,n,i){a(u,e,t,s,n,i)},u.trigger=function(s,n){var a,o,l,c=[d,r,i,t];for(o=0;o<4;o++)l=c[o],l&&l[s]&&(a=l[s].call(e,n||{},u));return a},u.option=function(e,t){var s={};"object"===("undefined"==typeof e?"undefined":m(e))?s=e:s[e]=t,u.init(s)},u.getInst=function(){return u},t=t||{},c=u.trigger,u.__ready||s()};var E,j,q=u.util,$=u.classes,Y=u.themes,B=q.constrain,O=q.isString,X=q.getCoord,H=q.animEnd,z=/(iphone|ipod)/i.test(_)&&p>=7,F="android"==f,N="ios"==f,R=N&&8==p,U=function(){},G=function(e){e.preventDefault()},Z=function(e,t,s){function n(e){M&&M.removeClass("mbsc-fr-btn-a"),M=P(this),M.hasClass("mbsc-fr-btn-d")||M.hasClass("mbsc-fr-btn-nhl")||M.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?P(document).on("mouseup",a):"pointerdown"===e.type&&P(document).on("pointerup",a)}function a(e){M&&(M.removeClass("mbsc-fr-btn-a"),M=null),"mouseup"===e.type?P(document).off("mouseup",a):"pointerup"===e.type&&P(document).off("pointerup",a)}function i(e){13==e.keyCode?le.select():27==e.keyCode&&le.cancel()}function o(e){e||F||Z.focus(),le.ariaMessage(ee.ariaMessage)}function r(e){var t=E,s=ee.focusOnClose;le._markupRemove(),w.remove(),A&&(S.mbscModals--,ee.scrollLock&&S.mbscLock--,S.mbscLock||g.removeClass("mbsc-fr-lock"),S.mbscModals||(g.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),R&&(p.css({top:"",left:""}),x.scrollLeft(te),x.scrollTop(ne)),e||(t||(t=ce),setTimeout(function(){void 0===s||s===!0?(j=!0,t[0].focus()):s&&P(s)[0].focus()},200)))),le._isVisible=!1,L=!1,ie("onHide")}function l(e){clearTimeout(ue[e.type]),ue[e.type]=setTimeout(function(){var t,s="scroll"==e.type;s&&!se||(le.position(!s),"orientationchange"==e.type&&(K.style.display="none",t=K.offsetHeight,K.style.display=""))},200)}function c(e){e.target.nodeType&&!Z.contains(e.target)&&Z.focus()}function d(e,t){e&&e(),le.show()!==!1&&(E=t)}function m(){le._fillValue(),ie("onSet",{valueText:le._value})}function b(){ie("onCancel",{valueText:le._value})}function f(){le.setVal(null,!0)}var h,p,v,g,w,_,y,C,x,k,T,M,S,V,I,A,L,W,D,Y,N,R,Z,K,Q,J,ee,te,se,ne,ae,ie,oe,re,le=this,ce=P(e),de=[],ue={};$.Base.call(this,e,t,!0),le.position=function(e){var t,s,n,a,i,o,r,l,c,d,m,b,f,h,v,g,_={},T=0,M=0,V=0,E=0;!J&&L&&(le._position(w),b=W.offsetHeight,f=W.offsetWidth,oe===f&&re===b&&e||(le._isFullScreen||/top|bottom/.test(ee.display)?C.width(f):k.width(""),ie("onPosition",{target:W,windowWidth:f,windowHeight:b})!==!1&&A&&(P(".mbsc-comp",w).each(function(){var e=u.instances[this.id];e&&e!==le&&e.position&&e.position()}),!le._isFullScreen&&/center|bubble/.test(ee.display)&&(P(".mbsc-w-p",w).each(function(){h=this.getBoundingClientRect().width,E+=h,V=h>V?h:V}),k.css({width:le._isLiquid?Math.min(ee.maxPopupWidth,f-16):Math.ceil(E>f?V:E),"white-space":E>f?"":"nowrap"})),D=K.offsetWidth,Y=K.offsetHeight,se=Y<=b&&D<=f,N&&(T=x.scrollLeft(),M=x.scrollTop()),"center"==ee.display?(g=Math.max(0,T+(f-D)/2),v=Math.max(0,M+(b-Y)/2)):"bubble"==ee.display?(t=void 0===ee.anchor?ce:P(ee.anchor),r=P(".mbsc-fr-arr-i",w)[0],a=t.offset(),i=a.top+(I?M-p.offset().top:0),o=a.left+(I?T-p.offset().left:0),s=t[0].offsetWidth,n=t[0].offsetHeight,l=r.offsetWidth,c=r.offsetHeight,g=B(o-(D-s)/2,T+8,T+f-D-8),v=i-Y-c/2,v<M||i>M+b?(C.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),v=i+n+c/2):C.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),P(".mbsc-fr-arr",w).css({left:B(o+s/2-(g+(D-l)/2),0,l)}),se=v>M&&g>T&&v+Y<=M+b&&g+D<=T+f):(g=T,v="top"==ee.display?M:Math.max(0,M+b-Y)),N&&(d=Math.max(v+Y,I?S.scrollHeight:P(document).height()),m=Math.max(g+D,I?S.scrollWidth:P(document).width()),y.css({width:m,height:d}),ee.scroll&&"bubble"==ee.display&&(v+Y+8>M+b||i>M+b||i+n<M)&&(J=!0,setTimeout(function(){J=!1},300),x.scrollTop(Math.min(i,v+Y-b+8,d-b)))),_.top=Math.floor(v),_.left=Math.floor(g),C.css(_),oe=f,re=b)))},le.attachShow=function(e,t){var s,n=P(e),a=n.prop("readonly");if("inline"!==ee.display){if((ee.showOnFocus||ee.showOnTap)&&n.is("input,select")&&(n.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){le._isVisible&&this.blur()}),s=P('label[for="'+n.attr("id")+'"]'),s.length||(s=n.closest("label"))),n.is("select"))return;ee.showOnFocus&&n.on("focus.mbsc",function(){j?j=!1:d(t,n)}),ee.showOnTap&&(n.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),d(t,n))}),le.tap(n,function(){d(t,n)}),s&&s.length&&le.tap(s,function(){d(t,n)})),de.push({readOnly:a,el:n,lbl:s})}},le.select=function(){A?le.hide(!1,"set",!1,m):m()},le.cancel=function(){A?le.hide(!1,"cancel",!1,b):b()},le.clear=function(){le._clearValue(),ie("onClear"),A&&le._isVisible&&!le.live?le.hide(!1,"clear",!1,f):f()},le.enable=function(){ee.disabled=!1,le._isInput&&ce.prop("disabled",!1)},le.disable=function(){ee.disabled=!0,le._isInput&&ce.prop("disabled",!0)},le.show=function(e,t){function s(){w.off(H,s).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+V).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+V),o(t)}var r,d;if(!ee.disabled&&!le._isVisible){if(le._readValue(),ie("onBeforeShow")===!1)return!1;if(E=null,V=ee.animate,T=ee.buttons||[],N=I||"bubble"==ee.display,R=z&&!N&&ee.scrollLock,r=T.length>0,ae=!1,V!==!1&&("top"==ee.display?V=V||"slidedown":"bottom"==ee.display?V=V||"slideup":"center"!=ee.display&&"bubble"!=ee.display||(V=V||"pop")),A&&(ne=Math.max(0,x.scrollTop()),te=Math.max(0,x.scrollLeft()),oe=0,re=0,R&&!g.hasClass("mbsc-fr-lock-ios")&&p.css({top:-ne+"px",left:-te+"px"}),g.addClass((ee.scrollLock?"mbsc-fr-lock":"")+(R?" mbsc-fr-lock-ios":"")+(I?" mbsc-fr-lock-ctx":"")),P(document.activeElement).is("input,textarea")&&document.activeElement.blur(),u.activeInstance&&u.activeInstance.hide(),u.activeInstance=le,S.mbscModals=S.mbscModals||0,S.mbscLock=S.mbscLock||0,S.mbscModals++,ee.scrollLock&&S.mbscLock++),d='<div lang="'+ee.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+ee.theme+(ee.baseTheme?" mbsc-"+ee.baseTheme:"")+" mbsc-fr-"+ee.display+" "+(ee.cssClass||"")+" "+(ee.compClass||"")+(le._isLiquid?" mbsc-fr-liq":"")+(R?" mbsc-platform-ios":"")+(r?T.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(A?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(ee.rtl?" mbsc-rtl":" mbsc-ltr")+(ee.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===ee.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(ee.headerText?'<div class="mbsc-fr-hdr">'+(O(ee.headerText)?ee.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',d+=le._generateContent(),d+="</div>",r&&(d+='<div class="mbsc-fr-btn-cont">',P.each(T,function(e,t){t=O(t)?le.buttons[t]:t,"set"===t.handler&&(t.parentClass="mbsc-fr-btn-s"),"cancel"===t.handler&&(t.parentClass="mbsc-fr-btn-c"),d+="<div"+(ee.btnWidth?' style="width:'+100/T.length+'%"':"")+' class="mbsc-fr-btn-w '+(t.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+e+" mbsc-fr-btn-e "+(void 0===t.cssClass?ee.btnClass:t.cssClass)+(t.icon?" mbsc-ic mbsc-ic-"+t.icon:"")+'">'+(t.text||"")+"</div></div>"}),d+="</div>"),d+="</div></div></div></div>"+(A?"</div></div>":""),w=P(d),y=P(".mbsc-fr-persp",w),_=P(".mbsc-fr-scroll",w),k=P(".mbsc-fr-w",w),v=P(".mbsc-fr-hdr",w),C=P(".mbsc-fr-popup",w),h=P(".mbsc-fr-aria",w),W=w[0],Z=_[0],K=C[0],le._markup=w,le._header=v,le._isVisible=!0,Q="orientationchange resize",le._markupReady(w),ie("onMarkupReady",{target:W}),A){if(P(window).on("keydown",i),ee.scrollLock&&w.on("touchmove mousewheel wheel",function(e){se&&e.preventDefault()}),ee.focusTrap&&x.on("focusin",c),ee.closeOnOverlayTap){var m,b,f,M;_.on("touchstart mousedown",function(e){b||e.target!=_[0]||(b=!0,m=!1,f=X(e,"X"),M=X(e,"Y"))}).on("touchmove mousemove",function(e){b&&!m&&(Math.abs(X(e,"X")-f)>9||Math.abs(X(e,"Y")-M)>9)&&(m=!0)}).on("touchcancel",function(){b=!1}).on("touchend touchcancel mouseup",function(e){b&&!m&&(le.cancel(),"mouseup"!=e.type&&q.preventClick()),b=!1})}N&&(Q+=" scroll")}setTimeout(function(){if(A)w.appendTo(p);else if(ce.is("div")&&!le._hasContent)ce.empty().append(w);else if(ce.hasClass("mbsc-control")){var i=ce.closest(".mbsc-control-w");w.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else w.insertAfter(ce);L=!0,le._markupInserted(w),ie("onMarkupInserted",{target:W}),w.on("selectstart mousedown",G).on("click",".mbsc-fr-btn-e",G).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&A&&ee.focusTrap){var t=w.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),s=t.index(P(":focus",w)),n=t.length-1,a=0;e.shiftKey&&(n=0,a=-1),s===n&&(t.eq(a)[0].focus(),e.preventDefault())}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",n).on("touchend",".mbsc-fr-btn-e",a),P("input,select,textarea",w).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),W.addEventListener("touchstart",function(){ae||(ae=!0,p.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),P.each(T,function(e,t){le.tap(P(".mbsc-fr-btn"+e,w),function(e){t=O(t)?le.buttons[t]:t,(O(t.handler)?le.handlers[t.handler]:t.handler).call(this,e,le)},!0)}),le._attachEvents(w),le.position(),x.on(Q,l),A&&(V&&!e?w.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+V).on(H,s).find(".mbsc-fr-popup").addClass("mbsc-anim-"+V):o(t)),ie("onShow",{target:W,valueText:le._tempValue})},R?100:0)}},le.hide=function(e,t,s,n){function a(){w.off(H,a),r(e)}return!(!le._isVisible||!s&&!le._isValid&&"set"==t||!s&&ie("onBeforeClose",{valueText:le._tempValue,button:t})===!1)&&(A&&(P(document.activeElement).is("input,textarea")&&K.contains(document.activeElement)&&document.activeElement.blur(),P(window).off("keydown",i),delete u.activeInstance),w&&(A&&V&&!e?w.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+V).on(H,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+V):r(e),le._detachEvents(w),x.off(Q,l).off("focusin",c)),n&&n(),void ie("onClose",{valueText:le._value}))},le.ariaMessage=function(e){h.html(""),setTimeout(function(){h.html(e)},100)},le.isVisible=function(){return le._isVisible},le.setVal=U,le.getVal=U,le._generateContent=U,le._attachEvents=U,le._detachEvents=U,le._readValue=U,le._clearValue=U,le._fillValue=U,le._markupReady=U,le._markupInserted=U,le._markupRemove=U,le._position=U,le.__processSettings=U,le.__init=U,le.__destroy=U,le._destroy=function(){le.hide(!0,!1,!0),ce.off(".mbsc"),P.each(de,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),le.__destroy()},le._processSettings=function(){var e,t;for(le.__processSettings(),ee.buttons=ee.buttons||("inline"!==ee.display?["set","cancel"]:[]),ee.headerText=void 0===ee.headerText?"inline"!==ee.display&&"{value}":ee.headerText,T=ee.buttons||[],A="inline"!==ee.display,I="body"!=ee.context,p=P(ee.context),g=I?p:P("body,html"),S=p[0],le._window=x=P(I?ee.context:window),le.live=!0,t=0;t<T.length;t++)e=T[t],"ok"!=e&&"set"!=e&&"set"!=e.handler||(le.live=!1);le.buttons.set={text:ee.setText,icon:ee.setIcon,handler:"set"},le.buttons.cancel={text:ee.cancelText,icon:ee.cancelIcon,handler:"cancel"},le.buttons.close={text:ee.closeText,icon:ee.closeIcon,handler:"cancel"},le.buttons.clear={text:ee.clearText,icon:ee.clearIcon,handler:"clear"},le._isInput=ce.is("input")},le._init=function(){le._isVisible&&le.hide(!0,!1,!0),ce.off(".mbsc"),le.__init(),le._isLiquid="liquid"==ee.layout,A?(le._readValue(),le._hasContent||le.attachShow(ce)):le.show(),ce.on("change.mbsc",function(){le._preventChange||le.setVal(ce.val(),!0,!1),le._preventChange=!1})},le.buttons={},le.handlers={set:le.select,cancel:le.cancel,clear:le.clear},le._value=null,le._isValid=!0,le._isVisible=!1,ee=le.settings,ie=le.trigger,s||le.init(t)};Z.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:F||N,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!R},$.Frame=Z,Y.frame.mobiscroll={headerText:!1,btnWidth:!1},Y.scroller.mobiscroll=D({},Y.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),w&&P(window).on("focus",function(){E&&(j=!0)});var K=u.classes,Q=u.util,J=Q.constrain,ee=Q.jsPrefix,te=Q.prefix,se=Q.getCoord,ne=Q.getPosition,ae=Q.testTouch,ie=Q.isNumeric,oe=Q.isString,re="ios"==f,le=function(e,t,s){function n(e){R("onStart",{domEvent:e}),ce.stopProp&&e.stopPropagation(),(ce.prevDef||"mousedown"==e.type)&&e.preventDefault(),ce.readonly||ce.lock&&I||ae(e,this)&&!V&&(d&&d.removeClass("mbsc-btn-a"),k=!1,I||(d=P(e.target).closest(".mbsc-btn-e",this),d.length&&!d.hasClass("mbsc-btn-d")&&(k=!0,u=setTimeout(function(){d.addClass("mbsc-btn-a")},100))),V=!0,D=!1,A=!1,Z.scrolled=I,O=se(e,"X"),X=se(e,"Y"),w=O,b=0,f=0,h=0,B=new Date,Y=+ne(z,U)||0,I&&c(Y,re?0:1),"mousedown"===e.type&&P(document).on("mousemove",a).on("mouseup",o))}function a(e){V&&(ce.stopProp&&e.stopPropagation(),w=se(e,"X"),_=se(e,"Y"),b=w-O,f=_-X,h=U?f:b,k&&(Math.abs(f)>ce.thresholdY||Math.abs(b)>ce.thresholdX)&&(clearTimeout(u),d.removeClass("mbsc-btn-a"),k=!1),(Z.scrolled||!A&&Math.abs(h)>N)&&(D||R("onGestureStart",y),Z.scrolled=D=!0,W||(W=!0,L=C(i))),U||ce.scrollLock?e.preventDefault():Z.scrolled?e.preventDefault():Math.abs(f)>7&&(A=!0,Z.scrolled=!0,de.trigger("touchend")))}function i(){M&&(h=J(h,-q*M,q*M)),c(J(Y+h,S-g,T+g)),W=!1}function o(e){if(V){var t,s=new Date-B;ce.stopProp&&e.stopPropagation(),x(L),W=!1,!A&&Z.scrolled&&(ce.momentum&&s<300&&(t=h/s,h=Math.max(Math.abs(h),t*t/ce.speedUnit)*(h<0?-1:1)),l(h)),k&&(clearTimeout(u),d.addClass("mbsc-btn-a"),setTimeout(function(){d.removeClass("mbsc-btn-a")},100),A||Z.scrolled||R("onBtnTap",{target:d[0]})),"mouseup"==e.type&&P(document).off("mousemove",a).off("mouseup",o),V=!1}}function r(e){if(e=e.originalEvent||e,h=U?e.deltaY||e.wheelDelta||e.detail:e.deltaX,R("onStart",{domEvent:e}),ce.stopProp&&e.stopPropagation(),h){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(h*=5),h=J(-h,-20,20),Y=G,ce.readonly||Y+h<S||Y+h>T)return;D||(y={posX:U?0:G,posY:U?G:0,originX:U?0:Y,originY:U?Y:0,direction:h>0?U?270:360:U?90:180},R("onGestureStart",y)),W||(W=!0,L=C(i)),D=!0,clearTimeout(E),E=setTimeout(function(){x(L),W=!1,D=!1,l(h)},200)}}function l(e){var t,s,n;if(M&&(e=J(e,-q*M,q*M)),n=J(Math.round((Y+e)/q)*q,S,T),Q=Math.round(n/q),$){if(e<0){for(t=$.length-1;t>=0;t--)if(Math.abs(n)+m>=$[t].breakpoint){Q=t,le=2,n=$[t].snap2;break}}else if(e>=0)for(t=0;t<$.length;t++)if(Math.abs(n)<=$[t].breakpoint){Q=t,le=1,n=$[t].snap1;break}n=J(n,S,T)}s=ce.time||(G<S||G>T?1e3:Math.max(1e3,Math.abs(n-G)*ce.timeUnit)),y.destinationX=U?0:n,y.destinationY=U?n:0,y.duration=s,y.transitionTiming=v,R("onGestureEnd",y),c(n,s)}function c(e,t,s,n){var a=e!=G,i=t>1,o=function(){clearInterval(j),clearTimeout(F),I=!1,G=e,y.posX=U?0:e,y.posY=U?e:0,a&&R("onMove",y),i&&R("onAnimationEnd",y),n&&n()};y={posX:U?0:G,posY:U?G:0,originX:U?0:Y,originY:U?Y:0,direction:e-G>0?U?270:360:U?90:180},G=e,i&&(y.destinationX=U?0:e,y.destinationY=U?e:0,y.duration=t,y.transitionTiming=v,R("onAnimationStart",y)),H[ee+"Transition"]=t?te+"transform "+Math.round(t)+"ms "+v:"",H[ee+"Transform"]="translate3d("+(U?"0,"+e+"px,":e+"px,0,")+"0)",!a&&!I||!t||t<=1?o():t&&(I=!s,clearInterval(j),j=setInterval(function(){var t=+ne(z,U)||0;y.posX=U?0:t,y.posY=U?t:0,R("onMove",y),Math.abs(t-e)<2&&o()},100),clearTimeout(F),F=setTimeout(function(){o()},t)),ce.sync&&ce.sync(e,t,v)}var d,u,m,b,f,h,p,v,g,w,_,y,k,T,M,S,V,I,A,L,W,D,E,j,q,$,Y,B,O,X,H,z,F,N,R,U,G,Z=this,Q=0,le=1,ce=t,de=P(e);K.Base.call(this,e,t,!0),Z.scrolled=!1,Z.scroll=function(t,s,n,a){t=ie(t)?Math.round(t/q)*q:Math.ceil((P(t,e).length?Math.round(z.offset()[p]-P(t,e).offset()[p]):G)/q)*q,t=J(t,S,T),Q=Math.round(t/q),Y=G,c(t,s,n,a)},Z.refresh=function(e){var t;m=void 0===ce.contSize?U?de.height():de.width():ce.contSize,S=void 0===ce.minScroll?Math.min(0,U?m-z.height():m-z.width()):ce.minScroll,T=void 0===ce.maxScroll?0:ce.maxScroll,$=null,!U&&ce.rtl&&(t=T,T=-S,S=-t),oe(ce.snap)&&($=[],z.find(ce.snap).each(function(){var e=U?this.offsetTop:this.offsetLeft,t=U?this.offsetHeight:this.offsetWidth;$.push({breakpoint:e+t/2,snap1:-e,snap2:m-e-t})})),q=ie(ce.snap)?ce.snap:1,M=ce.snap?ce.maxSnapScroll:0,v=ce.easing,g=ce.elastic?ie(ce.snap)?q:ie(ce.elastic)?ce.elastic:0:0,void 0===G&&(G=ce.initialPos,Q=Math.round(G/q)),e||Z.scroll(ce.snap?$?$[Q]["snap"+le]:Q*q:G)},Z._processSettings=function(){U="Y"==ce.axis,p=U?"top":"left",z=ce.moveElement||de.children().eq(0),H=z[0].style,N=U?ce.thresholdY:ce.thresholdX},Z._init=function(){Z.refresh(),de.on("touchstart mousedown",n).on("touchmove",a).on("touchend touchcancel",o),ce.mousewheel&&de.on("wheel mousewheel",r),e.addEventListener&&e.addEventListener("click",function(e){Z.scrolled&&(Z.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},Z._destroy=function(){clearInterval(j),de.off("touchstart mousedown",n).off("touchmove",a).off("touchend touchcancel",o).off("wheel mousewheel",r)},ce=Z.settings,R=Z.trigger,s||Z.init(t)};le.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},K.ScrollView=le,u.presetShort("scrollview","ScrollView",!1);var ce=u.util,de=ce.jsPrefix,ue=ce.prefix,me=ce.getCoord,be=ce.testTouch,fe=w?window.CSS:null,he=fe&&fe.supports&&fe.supports("(transform-style: preserve-3d)"),pe=!he||"wp"==f||"android"==f;u.presetShort("scroller","Scroller",!1);var ve=function(e,t,s){function n(e){var t=+P(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),be(e,this)&&!v(t)&&(S=P(this).addClass("mbsc-sc-btn-a"),$=me(e,"X"),Y=me(e,"Y"),j=!0,q=!1,setTimeout(function(){f(t,"inc"==S.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&P(document).on("mousemove",a).on("mouseup",i))}function a(e){(Math.abs($-me(e,"X"))>7||Math.abs(Y-me(e,"Y"))>7)&&h(!0)}function i(e){h(),e.preventDefault(),"mouseup"===e.type&&P(document).off("mousemove",a).off("mouseup",i)}function o(e){var t,s,n=P(this).attr("data-index");38==e.keyCode?(t=!0,s=-1):40==e.keyCode?(t=!0,s=1):32==e.keyCode&&(t=!0,l(n,R[n]._$markup.find('.mbsc-sc-itm[data-val="'+B[n]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),s&&!j&&(j=!0,q=!1,f(n,s)))}function r(){h()}function l(e,t){var s=R[e],n=t.attr("data-index"),a=b(s,n),i=Q._tempSelected[e],o=ce.isNumeric(s.multiple)?s.multiple:1/0;F("onItemTap",{target:t[0],index:e,value:a,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(s.multiple&&!s._disabled[a]&&(void 0!==i[a]?(t.removeClass(L).removeAttr("aria-selected"),delete i[a]):(1==o&&(Q._tempSelected[e]=i={},s._$markup.find(".mbsc-sc-itm-sel").removeClass(L).removeAttr("aria-selected")),ce.objectToArray(i).length<o&&(t.addClass(L).attr("aria-selected","true"),i[a]=a))),k(s,e,n,K,!0,!0,s.multiple),!Q.live||s.multiple||z.setOnTap!==!0&&!z.setOnTap[e]||setTimeout(function(){Q.select()},200))}function c(e,t){return(e._array?e._map[t]:e.getIndex(t,Q))||0}function d(e,t){var s=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?P(s).get(t%e._length):s[t]:P.isFunction(s)?s(t,Q):""}function u(e){return P.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function m(e){var t=P.isPlainObject(e)?e.display:e;return void 0===t?"":t}function b(e,t){return u(d(e,t))}function f(e,t){q||p(e,t),j&&(clearInterval(E),E=setInterval(function(){p(e,t)},z.delay))}function h(e){clearInterval(E),q=e,j=!1,S&&S.removeClass("mbsc-sc-btn-a")}function p(e,t){var s=R[e];k(s,e,s._current+t,K,1==t?1:2)}function v(e){return P.isArray(z.readonly)?z.readonly[e]:z.readonly}function g(e,t,s){var n=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=P.isArray(e.data),e._array&&(e._length=e.data.length,P.each(e.data,function(t,s){e._map[u(s)]=t})),e.circular=void 0===z.circular?void 0===e.circular?e._array&&e._length>z.rows:e.circular:P.isArray(z.circular)?z.circular[t]:z.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=c(e,B[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-G,e._last=e._index+G,e._offset=e._first,s?(e._offset-=e._margin/O+(e._index-n),e._margin+=(e._index-n)*O):e._margin=0,e._refresh=function(t){var s=-(e.min-e._offset+(e.multiple&&!A?Math.floor(z.rows/2):0))*O,n=Math.min(s,-(e.max-e._offset-(e.multiple&&!A?Math.floor(z.rows/2):0))*O);D(e._scroller.settings,{minScroll:n,maxScroll:s}),e._scroller.refresh(t)},U[e.key]=e,e}function w(e,t,s,n,a){var i,o,r,l,c,b,f,h,p="",v=Q._tempSelected[t],g=e._disabled||{};for(i=s;i<=n;i++)r=d(e,i),c=m(r),l=u(r),o=r&&void 0!==r.cssClass?r.cssClass:"",b=r&&void 0!==r.label?r.label:"",f=r&&r.invalid,h=void 0!==l&&l==B[t]&&!e.multiple,p+='<div role="option" aria-selected="'+!!v[l]+'" class="mbsc-sc-itm '+(a?"mbsc-sc-itm-3d ":"")+o+" "+(h?"mbsc-sc-itm-sel ":"")+(v[l]?L:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(f?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(g[l]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+i+'" data-val="'+l+'"'+(b?' aria-label="'+b+'"':"")+(h?' aria-selected="true"':"")+' style="height:'+O+"px;line-height:"+O+"px;"+(a?ue+"transform:rotateX("+(e._offset-i)*I%360+"deg) translateZ("+O*z.rows/2+"px);":"")+'">'+(N>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(O/N)+"px;font-size:"+Math.round(O/N*.8)+'px;">':"")+c+(N>1?"</div>":"")+"</div>";return p}function _(t){var s=z.headerText;return s?"function"==typeof s?s.call(e,t):s.replace(/\{value\}/i,t):""}function y(e,t,s){var n=Math.round(-s/O)+e._offset,a=n-e._current,i=e._first,o=e._last,r=i+G-V+1,l=o-G+V;a&&(e._first+=a,e._last+=a,e._current=n,a>0?(e._$scroller.append(w(e,t,Math.max(o+1,i+a),o+a)),P(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(a,o-i+1)).remove(),A&&(e._$3d.append(w(e,t,Math.max(l+1,r+a),l+a,!0)),P(".mbsc-sc-itm",e._$3d).slice(0,Math.min(a,l-r+1)).attr("class","mbsc-sc-itm-del"))):a<0&&(e._$scroller.prepend(w(e,t,i+a,Math.min(i-1,o+a))),P(".mbsc-sc-itm",e._$scroller).slice(Math.max(a,i-o-1)).remove(),A&&(e._$3d.prepend(w(e,t,r+a,Math.min(r-1,l+a),!0)),P(".mbsc-sc-itm",e._$3d).slice(Math.max(a,r-l-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=a*O,e._$scroller.css("margin-top",e._margin+"px"))}function C(e,t,s,n){var a,i=R[e],o=n||i._disabled,r=c(i,t),l=t,d=t,u=0,m=0;if(void 0===t&&(t=b(i,r)),o[t]===!0){for(a=0;r-u>=i.min&&o[l]&&a<100;)a++,u++,l=b(i,r-u);for(a=0;r+m<i.max&&o[d]&&a<100;)a++,m++,d=b(i,r+m);t=(m<u&&m&&2!==s||!u||r-u<0||1==s)&&!o[d]?d:l}return t}function x(t,s,n,a,i,o){var r,l,d,u,m=Q._isVisible;H=!0,u=z.validate.call(e,{values:B.slice(0),index:s,direction:n},Q)||{},H=!1,u.valid&&(Q._tempWheelArray=B=u.valid.slice(0)),o||P.each(R,function(e,a){if(m&&a._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),a._disabled={},u.disabled&&u.disabled[e]&&P.each(u.disabled[e],function(e,t){a._disabled[t]=!0,m&&a._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),B[e]=a.multiple?B[e]:C(e,B[e],n),m){if(a.multiple&&void 0!==s||a._$markup.find(".mbsc-sc-itm-sel").removeClass(L).removeAttr("aria-selected"),a.multiple){if(void 0===s)for(var o in Q._tempSelected[e])a._$markup.find('.mbsc-sc-itm[data-val="'+o+'"]').addClass(L).attr("aria-selected","true")}else a._$markup.find('.mbsc-sc-itm[data-val="'+B[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");l=c(a,B[e]),r=l-a._index+a._batch,Math.abs(r)>2*G+1&&(d=r+(2*G+1)*(r>0?-1:1),a._offset+=d,a._margin-=d*O,a._refresh()),a._index=l+a._batch,a._scroller.scroll(-(l-a._offset+a._batch)*O,s===e||void 0===s?t:K,i)}}),F("onValidated"),Q._tempValue=z.formatValue(B,Q),m&&Q._header.html(_(Q._tempValue)),Q.live&&(Q._hasValue=a||Q._hasValue,T(a,a,0,!0),a&&F("onSet",{valueText:Q._value})),a&&F("onChange",{valueText:Q._tempValue})}function k(e,t,s,n,a,i,o){var r=b(e,s);void 0!==r&&(B[t]=r,e._batch=e._array?Math.floor(s/e._length)*e._length:0,setTimeout(function(){x(n,t,a,!0,i,o)},10))}function T(e,t,s,n,a){if(n?Q._tempValue=z.formatValue(Q._tempWheelArray,Q):x(s),!a){Q._wheelArray=[];for(var i=0;i<B.length;i++)Q._wheelArray[i]=R[i]&&R[i].multiple?Object.keys(Q._tempSelected[i])[0]:B[i];Q._value=Q._hasValue?Q._tempValue:null,Q._selected=D(!0,{},Q._tempSelected)}e&&(Q._isInput&&J.val(Q._hasValue?Q._tempValue:""),F("onFill",{valueText:Q._hasValue?Q._tempValue:"",change:t}),t&&(Q._preventChange=!0,J.trigger("change")))}var M,S,V,I,A,L,W,E,j,q,$,Y,B,O,X,H,z,F,N,R,U,G=40,K=1e3,Q=this,J=P(e);Z.call(this,e,t,!0),Q.setVal=Q._setVal=function(t,s,n,a,i){Q._hasValue=null!==t&&void 0!==t,Q._tempWheelArray=B=P.isArray(t)?t.slice(0):z.parseValue.call(e,t,Q)||[],T(s,void 0===n?s:n,i,!1,a)},Q.getVal=Q._getVal=function(e){
var t=Q._hasValue||e?Q[e?"_tempValue":"_value"]:null;return ce.isNumeric(t)?+t:t},Q.setArrayVal=Q.setVal,Q.getArrayVal=function(e){return e?Q._tempWheelArray:Q._wheelArray},Q.changeWheel=function(e,t,s){var n,a;P.each(e,function(e,t){a=U[e],a&&(n=a._nr,D(a,t),g(a,n,!0),Q._isVisible&&(A&&a._$3d.html(w(a,n,a._first+G-V+1,a._last-G+V,!0)),a._$scroller.html(w(a,n,a._first,a._last)).css("margin-top",a._margin+"px"),a._refresh(H)))}),!Q._isVisible||Q._isLiquid||H||Q.position(),H||x(t,void 0,void 0,s)},Q.getValidValue=C,Q._generateContent=function(){var e,t=0,s="",n=A?ue+"transform: translateZ("+(O*z.rows/2+3)+"px);":"",a='<div class="mbsc-sc-whl-l" style="'+n+"height:"+O+"px;margin-top:-"+(O/2+(z.selectedLineBorder||0))+'px;"></div>',i=0;return P.each(z.wheels,function(o,r){s+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(A?" mbsc-sc-whl-gr-3d-c":"")+(z.showLabel?" mbsc-sc-lbl-v":"")+'">'+a+'<div class="mbsc-sc-whl-gr'+(A?" mbsc-sc-whl-gr-3d":"")+(W?" mbsc-sc-cp":"")+(z.width||z.maxWidth?'"':'" style="max-width:'+z.maxPopupWidth+'px;"')+">",P.each(r,function(o,r){Q._tempSelected[i]=D({},Q._selected[i]),R[i]=g(r,i),t+=z.maxWidth?z.maxWidth[i]||z.maxWidth:z.width?z.width[i]||z.width:0,e=void 0!==r.label?r.label:o,s+='<div class="mbsc-sc-whl-w '+(r.cssClass||"")+(r.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(z.width?"width:"+(z.width[i]||z.width)+"px;":(z.minWidth?"min-width:"+(z.minWidth[i]||z.minWidth)+"px;":"")+(z.maxWidth?"max-width:"+(z.maxWidth[i]||z.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+n+'"></div>'+a+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(r.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+z.rows*O*(A?1.1:1)+'px;">'+(W?'<div data-index="'+i+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(z.btnPlusClass||"")+'" style="height:'+O+"px;line-height:"+O+'px;"></div><div data-index="'+i+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(z.btnMinusClass||"")+'" style="height:'+O+"px;line-height:"+O+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+X+"px;margin-top:-"+(X/2+1)+"px;"+n+'"><div class="mbsc-sc-whl-sc" style="top:'+(X-O)/2+'px;">',s+=w(r,i,r._first,r._last)+"</div></div>",A&&(s+='<div class="mbsc-sc-whl-3d" style="height:'+O+"px;margin-top:-"+O/2+'px;">',s+=w(r,i,r._first+G-V+1,r._last-G+V,!0),s+="</div>"),s+="</div></div>",i++}),s+="</div></div>"}),t&&(z.maxPopupWidth=t),s},Q._attachEvents=function(e){P(".mbsc-sc-btn",e).on("touchstart mousedown",n).on("touchmove",a).on("touchend touchcancel",i),P(".mbsc-sc-whl",e).on("keydown",o).on("keyup",r)},Q._detachEvents=function(){for(var e=0;e<R.length;e++)R[e]._scroller.destroy()},Q._markupReady=function(e){M=e,P(".mbsc-sc-whl-w",M).each(function(e){var t,s=P(this),n=R[e],a=-(n.min-n._offset+(n.multiple&&!A?Math.floor(z.rows/2):0))*O,i=Math.min(a,-(n.max-n._offset-(n.multiple&&!A?Math.floor(z.rows/2):0))*O);n._$markup=s,n._$scroller=P(".mbsc-sc-whl-sc",this),n._$3d=P(".mbsc-sc-whl-3d",this),n._scroller=new le(this,{mousewheel:z.mousewheel,moveElement:n._$scroller,initialPos:(n._first-n._index)*O,contSize:0,snap:O,minScroll:i,maxScroll:a,maxSnapScroll:G,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,s){A&&(n._$3d[0].style[de+"Transition"]=t?ue+"transform "+Math.round(t)+"ms "+s:"",n._$3d[0].style[de+"Transform"]="rotateX("+-e/O*I+"deg)")},onStart:function(t,s){s.settings.readonly=v(e)},onGestureStart:function(){s.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),F("onWheelGestureStart",{index:e})},onGestureEnd:function(s){var a=90==s.direction?1:2,i=s.duration,o=s.destinationY;t=Math.round(-o/O)+n._offset,k(n,e,t,i,a)},onAnimationStart:function(){s.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){s.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),F("onWheelAnimationEnd",{index:e}),n._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){y(n,e,t.posY)},onBtnTap:function(t){l(e,P(t.target))}})}),x()},Q._fillValue=function(){Q._hasValue=!0,T(!0,!0,0,!0)},Q._clearValue=function(){P(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",M).removeClass(L).removeAttr("aria-selected")},Q._readValue=function(){var t=J.val()||"",s=0;""!==t&&(Q._hasValue=!0),Q._tempWheelArray=B=Q._hasValue&&Q._wheelArray?Q._wheelArray.slice(0):z.parseValue.call(e,t,Q)||[],Q._tempSelected=D(!0,{},Q._selected),P.each(z.wheels,function(e,t){P.each(t,function(e,t){R[s]=g(t,s),s++})}),T(!1,!1,0,!0),F("onRead")},Q.__processSettings=function(){z=Q.settings,F=Q.trigger,N=z.multiline,L="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+z.checkIcon,R=[],U={}},Q.__init=function(){W=z.showScrollArrows,A=z.scroll3d&&!pe&&!W,O=z.height,X=A?2*Math.round((O-.03*(O*z.rows/2+3))/2):O,V=Math.round(1.8*z.rows),I=360/(2*V),W&&(z.rows=Math.max(3,z.rows)),z.cssClass=(z.cssClass||"")+" mbsc-sc"},Q._getItemValue=u,Q._tempSelected={},Q._selected={},s||Q.init(t)};ve.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:D({},Z.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var s,n,a=[],i=[],o=0;return null!==e&&void 0!==e&&(a=(e+"").split(" ")),P.each(t.settings.wheels,function(e,r){P.each(r,function(e,r){n=r.data,s=t._getItemValue(n[0]),P.each(n,function(e,n){if(a[o]==t._getItemValue(n))return s=t._getItemValue(n),!1}),i.push(s),o++})}),i}})},u.classes.Scroller=ve;var ge={invalid:[],showInput:!0,inputClass:""};u.presets.scroller.list=function(e){function t(e,t,n){for(var a=0,i=[];a<e;)i[a]=s(n,a,t),a++;return i}function s(e,t,s){for(var n,a=0,i=s,o=[];a<t;){var r=e[a];for(n in i)if(i[n].key==r){i=i[n].children;break}a++}for(a=0;a<i.length;)i[a].invalid&&o.push(i[a].key),a++;return o}function n(e,t){for(var s=[];e;)s[--e]=!0;return s[t]=!1,s}function a(e){var t,s=[];for(t=0;t<e;t++)s[t]=v.labels&&v.labels[t]?v.labels[t]:t;return s}function i(e,t,s){var n,a,i,l=0,c=[[]],d=M;if(t)for(n=0;n<t;n++)w?c[0][n]={}:c[n]=[{}];for(;l<e.length;){for(w?c[0][l]=r(d,S[l]):c[l]=[r(d,S[l])],n=0,i=void 0;n<d.length&&void 0===i;)d[n].key==e[l]&&(void 0!==s&&l<=s||void 0===s)&&(i=n),n++;if(void 0!==i&&d[i].children)l++,d=d[i].children;else{if(!(a=o(d))||!a.children)return c;l++,d=a.children}}return c}function o(e,t){if(!e)return!1;for(var s,n=0;n<e.length;)if(!(s=e[n++]).invalid)return t?n-1:s;return!1}function r(e,t){for(var s={data:[],label:t},n=0;n<e.length;)s.data.push({value:e[n].key,display:e[n].value}),n++;return s}function l(t){e._isVisible&&P(".mbsc-sc-whl-w",e._markup).css("display","").slice(t).hide()}function c(e){for(var t,s=[],n=e,a=!0,i=0;a;)t=o(n),s[i++]=t.key,a=t.children,a&&(n=a);return s}function d(e,t){var s,n,a,i=[],r=M,l=0,c=!1;if(void 0!==e[l]&&l<=t)for(s=0,n=e[l],a=void 0;s<r.length&&void 0===a;)r[s].key!=e[l]||r[s].invalid||(a=s),s++;else a=o(r,!0),n=r[a].key;for(c=void 0!==a&&r[a].children,i[l]=n;c;){if(r=r[a].children,l++,c=!1,a=void 0,void 0!==e[l]&&l<=t)for(s=0,n=e[l],a=void 0;s<r.length&&void 0===a;)r[s].key!=e[l]||r[s].invalid||(a=s),s++;else a=o(r,!0),a=a===!1?void 0:a,n=r[a].key;c=!(void 0===a||!o(r[a].children))&&r[a].children,i[l]=n}return{lvl:l+1,nVector:i}}function u(t){var s=[];return x=x>k++?x:k,t.children("li").each(function(t){var n=P(this),a=n.clone();a.children("ul,ol").remove();var i=e._processMarkup?e._processMarkup(a):a.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),o=!!n.attr("data-invalid"),r={key:void 0===n.attr("data-val")||null===n.attr("data-val")?t:n.attr("data-val"),value:i,invalid:o,children:null},l=n.children("ul,ol");l.length&&(r.children=u(l)),s.push(r)}),k--,s}function m(t,s,n){var a,o=(s||0)+1,r=[],c={},d={};for(c=i(t,null,s),a=0;a<t.length;a++)e._tempWheelArray[a]=t[a]=n.nVector[a]||0;for(;o<n.lvl;)d[o]=w?c[0][o]:c[o][0],r.push(o++);l(n.lvl),T=t.slice(0),r.length&&(f=!0,e.changeWheel(d))}var b,f,h,p=D({},e.settings),v=D(e.settings,ge,p),g=v.layout||(/top|bottom/.test(v.display)?"liquid":""),w="liquid"==g,_=v.readonly,y=P(this),C=this.id+"_dummy",x=0,k=0,T=[],M=v.wheelArray||u(y),S=a(x),V=c(M),I=i(V,x);return P("#"+C).remove(),v.input?b=P(v.input):v.showInput&&(b=P('<input type="text" id="'+C+'" value="" class="'+v.inputClass+'" placeholder="'+(v.placeholder||"")+'" readonly />').insertBefore(y)),b&&e.attachShow(b),v.wheelArray||y.hide(),{wheels:I,anchor:b,layout:g,headerText:!1,setOnTap:1==x,formatValue:function(e){return void 0===h&&(h=d(e,e.length).lvl),e.slice(0,h).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(v.defaultValue||V).slice(0)},onBeforeShow:function(){var t=e.getArrayVal(!0);T=t.slice(0),v.wheels=i(t,x,x),f=!0},onWheelGestureStart:function(e){v.readonly=n(x,e.index)},onWheelAnimationEnd:function(t){var s=t.index,n=e.getArrayVal(!0),a=d(n,s);h=a.lvl,v.readonly=_,n[s]!=T[s]&&m(n,s,a)},onFill:function(e){h=void 0,b&&b.val(e.valueText)},validate:function(e){var s=e.values,n=e.index,a=d(s,s.length);return h=a.lvl,void 0===n&&(l(a.lvl),f||m(s,n,a)),f=!1,{disabled:t(h,M,s)}},onDestroy:function(){b&&P("#"+C).remove(),y.show()}}},u.presets.scroller.treelist=u.presets.scroller.list,u.presetShort("list"),u.presetShort("treelist");var we=u.themes;we.frame.jqm={jqmBody:"a",jqmBorder:"a",jqmLine:"b",jqmSet:"b",jqmCancel:"c",disabledClass:"ui-disabled",activeClass:"ui-btn-active",activeTabInnerClass:"ui-btn-active",onInit:function(){P(this).closest(".ui-field-contain").trigger("create")},onMarkupInserted:function(e,t){var s=t.settings,n=P(e.target);P(".mbsc-np-btn, .mbsc-cal-sc-m-cell .mbsc-cal-sc-cell-i",n).addClass("ui-btn"),P(".mbsc-fr-btn-cont .mbsc-fr-btn, .mbsc-range-btn",n).addClass("ui-btn ui-mini ui-corner-all"),P(".mbsc-cal-prev .mbsc-cal-btn-txt",n).addClass("ui-btn ui-icon-arrow-l ui-btn-icon-notext ui-shadow ui-corner-all"),P(".mbsc-cal-next .mbsc-cal-btn-txt",n).addClass("ui-btn ui-icon-arrow-r ui-btn-icon-notext ui-shadow ui-corner-all"),P(".mbsc-fr-popup",n).removeClass("dwbg").addClass("ui-selectmenu ui-overlay-shadow ui-corner-all ui-body-"+s.jqmBorder),P(".mbsc-fr-btn-s .mbsc-fr-btn",n).addClass("ui-btn-"+s.jqmSet),P(".mbsc-fr-hdr",n).addClass("ui-header ui-bar-inherit"),P(".mbsc-fr-w",n).addClass("ui-corner-all ui-body-"+s.jqmBody),P(".mbsc-sc-btn",n).addClass("ui-btn ui-mini ui-corner-all ui-btn-icon-top"),P(".mbsc-sc-btn-plus",n).addClass("ui-icon-carat-d"),P(".mbsc-sc-btn-minus",n).addClass("ui-icon-carat-u"),P(".mbsc-sc-whl-l",n).addClass("ui-body-"+s.jqmLine),P(".mbsc-cal-tabs",n).attr("data-role","navbar"),P(".mbsc-cal-prev .mbsc-cal-btn-txt",n).attr("data-role","button").attr("data-icon","arrow-l").attr("data-iconpos","notext"),P(".mbsc-cal-next .mbsc-cal-btn-txt",n).attr("data-role","button").attr("data-icon","arrow-r").attr("data-iconpos","notext"),P(".mbsc-cal-events",n).attr("data-role","page"),P(".mbsc-range-btn",n).attr("data-role","button").attr("data-mini","true"),P(".mbsc-np-btn",n).attr("data-role","button").attr("data-corners","false"),n.trigger("create")}},we.scroller.jqm=D({},we.frame.jqm,{dateDisplay:"Mddyy",onEventBubbleShow:function(e){P(".mbsc-cal-event-list",e.eventList).attr("data-role","listview"),P(e.eventList).page().trigger("create")},btnCalPrevClass:"",btnCalNextClass:"",selectedLineHeight:!0,selectedLineBorder:1,checkIcon:"none ui-btn-icon-left ui-icon-check",onThemeLoad:function(e){var t=e.settings,s=t.jqmBody||"c",n=t.jqmEventBubble||"a";t.dayClass="ui-body-a ui-body-"+s,t.innerDayClass="ui-state-default ui-btn ui-btn-up-"+s,t.calendarClass="ui-body-a ui-body-"+s,t.weekNrClass="ui-body-a ui-body-"+s,t.eventBubbleClass="ui-body-"+n}}),we.listview.jqm={handleClass:"ui-btn ui-icon-bars ui-btn-up-c ui-btn-icon-notext ui-icon-shadow ui-corner-all ui-btn-corner-all",handleMarkup:'<span class="ui-btn-inner mbsc-lv-handle"><span class="ui-icon ui-icon-bars ui-icon-shadow mbsc-lv-handle">&nbsp;</span></span>',leftArrowClass:"ui-btn-icon-left ui-icon-carat-l",rightArrowClass:"ui-btn-icon-right ui-icon-carat-r",onInit:function(){P(this).closest(".mbsc-lv-cont").addClass(P(this).data("inset")?"mbsc-lv-jqm-inset":"").find(".mbsc-lv-dummy, .mbsc-lv-fixed-header").addClass("ui-listview"),P("ul,ol",this).listview("refresh")},onItemAdd:function(e){var t=P(e.target).parent();t.hasClass("ui-listview")?t.listview("refresh"):t.listview()},onSortUpdate:function(e){P(e.target).parent().listview("refresh")}},we.menustrip.jqm={activeClass:"ui-btn-active",disabledClass:"ui-state-disabled",onThemeLoad:function(e){var t=e.settings,s=t.jqmSwatch||"a";t.itemClass="ui-btn ui-btn-up-"+s,t.wrapperClass="ui-bar-"+s}};var _e=u.themes;_e.frame["android-holo"]={},_e.scroller["android-holo"]=D({},_e.frame["android-holo"],{dateDisplay:"Mddyy",rows:5,minWidth:76,height:36,showLabel:!1,selectedLineHeight:!0,selectedLineBorder:2,useShortLabels:!0,icon:{filled:"star3",empty:"star"},btnPlusClass:"mbsc-ic mbsc-ic-arrow-down6",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up6"}),_e.form["android-holo"]={};var ye=u.themes;ye.frame.wp={headerText:!1,deleteIcon:"backspace4",setIcon:"checkmark",cancelIcon:"close",closeIcon:"close",clearIcon:"close",okIcon:"checkmark",nowIcon:"loop2",startIcon:"play3",stopIcon:"pause2",resetIcon:"stop2",lapIcon:"loop2",btnWidth:!1},ye.scroller.wp=D({},ye.frame.wp,{minWidth:76,height:76,dateDisplay:"mmMMddDDyy",showLabel:!1,icon:{filled:"star3",empty:"star"},btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left2",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right2",btnPlusClass:"mbsc-ic mbsc-ic-plus",btnMinusClass:"mbsc-ic mbsc-ic-minus",onMarkupInserted:function(e,t){function s(e){return P.isArray(r.readonly)?r.readonly[e]:r.readonly}var n,a,i,o=P(e.target),r=t.settings;P(".mbsc-sc-whl",o).on("touchstart mousedown wheel mousewheel",function(e){"mousedown"===e.type&&a||s(P(this).attr("data-index"))||(a="touchstart"===e.type,n=!0,i=P(this).hasClass("mbsc-sc-whl-wpa"),P(".mbsc-sc-whl",o).removeClass("mbsc-sc-whl-wpa"),P(this).addClass("mbsc-sc-whl-wpa"))}).on("touchmove mousemove",function(){n=!1}).on("touchend mouseup",function(e){n&&i&&P(e.target).closest(".mbsc-sc-itm").hasClass("mbsc-sc-itm-sel")&&P(this).removeClass("mbsc-sc-whl-wpa"),"mouseup"===e.type&&(a=!1),n=!1})}}),ye.form.wp={};var Ce=u.themes;Ce.frame.ios={display:"bottom",headerText:!1,btnWidth:!1,deleteIcon:"ios-backspace",scroll3d:!0},Ce.scroller.ios=D({},Ce.frame.ios,{rows:5,height:34,minWidth:55,selectedLineHeight:!0,selectedLineBorder:1,showLabel:!1,useShortLabels:!0,btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",checkIcon:"ion-ios7-checkmark-empty",filterClearIcon:"ion-close-circled",dateDisplay:"MMdyy",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),Ce.listview.ios={leftArrowClass:"mbsc-ic-ion-ios7-arrow-back",rightArrowClass:"mbsc-ic-ion-ios7-arrow-forward"},Ce.form.ios={};var xe=u.themes;xe.frame.bootstrap={disabledClass:"disabled",activeClass:"btn-primary",activeTabClass:"active",todayClass:"text-primary",onMarkupInserted:function(e){var t=P(e.target);P(".mbsc-fr-popup",t).addClass("popover"),P(".mbsc-fr-w",t).addClass("popover-content"),P(".mbsc-fr-hdr",t).addClass("popover-title"),P(".mbsc-fr-arr-i",t).addClass("popover"),P(".mbsc-fr-arr",t).addClass("arrow"),P(".mbsc-fr-btn",t).addClass("btn btn-default"),P(".mbsc-fr-btn-s .mbsc-fr-btn",t).removeClass("btn-default").addClass("btn btn-primary"),P(".mbsc-sc-btn-plus",t).addClass("glyphicon glyphicon-chevron-down"),P(".mbsc-sc-btn-minus",t).addClass("glyphicon glyphicon-chevron-up"),P(".mbsc-cal-next .mbsc-cal-btn-txt",t).prepend('<i class="glyphicon glyphicon-chevron-right"></i>'),P(".mbsc-cal-prev .mbsc-cal-btn-txt",t).prepend('<i class="glyphicon glyphicon-chevron-left"></i>'),P(".mbsc-cal-tabs ul",t).addClass("nav nav-tabs"),P(".mbsc-cal-sc-c",t).addClass("popover"),P(".mbsc-cal-week-nrs-c",t).addClass("popover"),P(".mbsc-cal-events",t).addClass("popover"),P(".mbsc-cal-events-arr",t).addClass("arrow"),P(".mbsc-range-btn",t).addClass("btn btn-sm btn-small btn-default"),P(".mbsc-np-btn",t).addClass("btn btn-default"),P(".mbsc-sel-filter-cont",t).removeClass("mbsc-input"),P(".mbsc-sel-filter-input",t).addClass("form-control")},onPosition:function(e){setTimeout(function(){P(".mbsc-fr-bubble-top, .mbsc-fr-bubble-top .mbsc-fr-arr-i",e.target).removeClass("bottom").addClass("top"),P(".mbsc-fr-bubble-bottom, .mbsc-fr-bubble-bottom .mbsc-fr-arr-i",e.target).removeClass("top").addClass("bottom")},10)}},xe.scroller.bootstrap=D({},xe.frame.bootstrap,{dateDisplay:"Mddyy",btnCalPrevClass:"",btnCalNextClass:"",selectedLineHeight:!0,onEventBubbleShow:function(e){var t=P(e.eventList);P(".mbsc-cal-event-list",t).addClass("list-group"),P(".mbsc-cal-event",t).addClass("list-group-item"),setTimeout(function(){t.hasClass("mbsc-cal-events-b")?t.removeClass("top").addClass("bottom"):t.removeClass("bottom").addClass("top")},10)}}),xe.menustrip.bootstrap={wrapperClass:"popover panel panel-default",groupClass:"btn-group",activeClass:"btn-primary",disabledClass:"disabled",itemClass:"btn btn-default"},u.customTheme("android-holo-light","android-holo"),u.customTheme("wp-light","wp"),u.customTheme("mobiscroll-dark","mobiscroll");var ke,Te,Me=u.themes,Se=u.util,Ve=Se.testTouch,Ie=Se.getCoord;Me.frame.material={headerText:!1,btnWidth:!1,deleteIcon:"material-backspace",onMarkupReady:function(e){d(P(e.target),".mbsc-fr-btn-e","mbsc-fr-btn-d","mbsc-fr-btn-nhl")}},Me.scroller.material=D({},Me.frame.material,{showLabel:!1,selectedLineBorder:2,weekDays:"min",icon:{filled:"material-star",empty:"material-star-outline"},checkIcon:"material-check",btnPlusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-down",btnMinusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-up",btnCalPrevClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-left",btnCalNextClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-right",onEventBubbleShow:function(e){var t=P(e.eventList),s=P(e.target).closest(".mbsc-cal-row").index()<2,n=P(".mbsc-cal-event-color",t).eq(s?0:-1).css("background-color");P(".mbsc-cal-events-arr",t).css("border-color",s?"transparent transparent "+n+" transparent":n+"transparent transparent transparent")}}),Me.listview.material={leftArrowClass:"mbsc-ic-material-keyboard-arrow-left",rightArrowClass:"mbsc-ic-material-keyboard-arrow-right",onItemActivate:function(e){l(P(e.target),e.domEvent)},onItemDeactivate:function(){c(Te)},onSlideStart:function(e){P(".mbsc-ripple",e.target).remove()},onSortStart:function(e){P(".mbsc-ripple",e.target).remove()}},Me.menustrip.material={onInit:function(){d(P(this),".mbsc-ms-item.mbsc-btn-e","mbsc-btn-d","mbsc-btn-nhl")},onMarkupInit:function(){P(".mbsc-ripple",this).remove()},onDestroy:function(){P(this).off(".mbsc-ripple")}},Me.form.material={addRipple:function(e,t){l(e,t)},removeRipple:function(){c(Te)}},u.customTheme("material-dark","material"),u.customTheme("ios-dark","ios");var Ae=u.themes,Pe=void 0;return"android"==f?Pe=p>=5?"material":"android-holo":"ios"==f?Pe="ios":"wp"==f&&(Pe="wp"),u.setAutoTheme=function(){P.each(Ae.frame,function(e,t){return Pe&&t.baseTheme==Pe&&"android-holo-light"!=e&&"material-dark"!=e&&"wp-light"!=e&&"ios-dark"!=e?(u.autoTheme=e,!1):void(e==Pe&&(u.autoTheme=e))})},u.setAutoTheme(),u.uid="c48a0b7c",u});
